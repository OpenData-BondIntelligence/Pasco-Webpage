"use strict";(self.webpackChunkreportEmbed=self.webpackChunkreportEmbed||[]).push([[5],{48382:function($c,ki,mt){mt.r(ki),mt.d(ki,{AppInsightsCore:function(){return Xa},ApplicationAnalytics:function(){return Lo},ApplicationInsights:function(){return as},ApplicationInsightsContainer:function(){return Qc},BaseCore:function(){return Wa},BaseTelemetryPlugin:function(){return zt},CoreUtils:function(){return ni},DependenciesPlugin:function(){return ns},DistributedTracingModes:function(){return Be},Event:function(){return ze},Exception:function(){return Te},LoggingSeverity:function(){return k},Metric:function(){return Ze},NotificationManager:function(){return Ka},PageView:function(){return Ve},PageViewPerformance:function(){return lt},PerfEvent:function(){return fn},PerfManager:function(){return Ea},PropertiesPlugin:function(){return Wo},RemoteDependencyData:function(){return et},Sender:function(){return Vo},SeverityLevel:function(){return Cn},Telemetry:function(){return Xc},Trace:function(){return ft},Util:function(){return No},_InternalMessageId:function(){return x},doPerf:function(){return Ht}});var $t="function",Ge="object",Rt="undefined",he="prototype",hr="hasOwnProperty",Oe=Object,mr=Oe[he],yr=Oe.assign,os=Oe.create,ss=Oe.defineProperty,en=mr[hr],Lt=null;function Ft(e){return void 0===e&&(e=!0),(!Lt||!e)&&(typeof globalThis!==Rt&&globalThis&&(Lt=globalThis),typeof self!==Rt&&self&&(Lt=self),typeof window!==Rt&&window&&(Lt=window),typeof mt.g!==Rt&&mt.g&&(Lt=mt.g)),Lt}function Ir(e){throw new TypeError(e)}function Cr(e){if(os)return os(e);if(null==e)return{};var n=typeof e;function r(){}return n!==Ge&&n!==$t&&Ir("Object prototype may only be an Object:"+e),r[he]=e,new r}Ft(),Ft();var me=yr||function(t){for(var n,r=1,i=arguments.length;r<i;r++)for(var a in n=arguments[r])mr[hr].call(n,a)&&(t[a]=n[a]);return t},Sr=function(t,n){return(Sr=Oe.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i[hr](a)&&(r[a]=i[a])})(t,n)};function Z(e,t){function n(){this.constructor=e}typeof t!==$t&&null!==t&&Ir("Class extends value "+String(t)+" is not a constructor or null"),Sr(e,t),e[he]=null===t?Cr(t):(n[he]=t[he],new n)}function Mi(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var Nn,e,k,Rn="undefined",Ln="constructor",We="prototype",Fn="function",Mn="_dynInstFuncs",Tr="_isDynProxy",Mt="_dynClass",wr="_dynInstChk",rn=wr,Ui="_dfOpts",qi="_unknown_",Bi="__proto__",Un="_dyn"+Bi,Oi="__dynProto$Gbl",xr="_dynInstProto",qn="useBaseInst",br="setInstFuncs",Bn=Object,an=Bn.getPrototypeOf,Hi=Bn.getOwnPropertyNames,_i=(typeof globalThis!==Rn&&(e=globalThis),!e&&typeof self!==Rn&&(e=self),!e&&typeof window!==Rn&&(e=window),!e&&typeof mt.g!==Rn&&(e=mt.g),e||{}),Er=_i[Oi]||(_i[Oi]={o:(Nn={},Nn[br]=!0,Nn[qn]=!0,Nn),n:1e3});function Ke(e,t){return e&&Bn[We].hasOwnProperty.call(e,t)}function zi(e){return e&&(e===Bn[We]||e===Array[We])}function Pr(e){return zi(e)||e===Function[We]}function yt(e){var t;if(e){if(an)return an(e);var n=e[Bi]||e[We]||(e[Ln]?e[Ln][We]:null);t=e[Un]||n,Ke(e,Un)||(delete e[xr],t=e[Un]=e[xr]||e[Un],e[xr]=n)}return t}function On(e,t){var n=[];if(Hi)n=Hi(e);else for(var r in e)"string"==typeof r&&Ke(e,r)&&n.push(r);if(n&&n.length>0)for(var i=0;i<n.length;i++)t(n[i])}function kr(e,t,n){return t!==Ln&&typeof e[t]===Fn&&(n||Ke(e,t))}function Hn(e){throw new TypeError("DynamicProto: "+e)}function Ar(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function vs(e,t,n,r){var i=null;if(e&&Ke(n,Mt)){var a=e[Mn]||{};if((i=(a[n[Mt]]||{})[t])||Hn("Missing ["+t+"] "+Fn),!i[wr]&&!1!==a[rn]){for(var o=!Ke(e,t),u=yt(e),s=[];o&&u&&!Pr(u)&&!Ar(s,u);){var c=u[t];if(c){o=c===r;break}s.push(u),u=yt(u)}try{o&&(e[t]=i),i[wr]=1}catch(f){a[rn]=!1}}}return i}function ps(e,t,n){var r=t[e];return r===n&&(r=yt(t)[e]),typeof r!==Fn&&Hn("["+e+"] is not a "+Fn),r}function Dr(e,t){return Ke(e,We)?e.name||t||qi:((e||{})[Ln]||{}).name||t||qi}function ne(e,t,n,r){Ke(e,We)||Hn("theClass is an invalid class definition.");var i=e[We];(function(e,t){if(an){for(var n=[],r=yt(t);r&&!Pr(r)&&!Ar(n,r);){if(r===e)return!0;n.push(r),r=yt(r)}return!1}return!0})(i,t)||Hn("["+Dr(e)+"] not in hierarchy of ["+Dr(t)+"]");var a=null;Ke(i,Mt)?a=i[Mt]:(a="_dynCls$"+Dr(e,"_")+"$"+Er.n,Er.n++,i[Mt]=a);var o=ne[Ui],u=!!o[qn];u&&r&&void 0!==r[qn]&&(u=!!r[qn]);var s=function(e){var t={};return On(e,function(n){!t[n]&&kr(e,n,!1)&&(t[n]=e[n])}),t}(t),c=function(e,t,n,r){function i(s,c,f){var g=c[f];if(g[Tr]&&r){var m=s[Mn]||{};!1!==m[rn]&&(g=(m[c[Mt]]||{})[f]||g)}return function(){return g.apply(s,arguments)}}var a={};On(n,function(s){a[s]=i(t,n,s)});for(var o=yt(e),u=[];o&&!Pr(o)&&!Ar(u,o);)On(o,function(s){!a[s]&&kr(o,s,!an)&&(a[s]=i(t,o,s))}),u.push(o),o=yt(o);return a}(i,t,s,u);n(t,c);var f=!!an&&!!o[br];f&&r&&(f=!!r[br]),function(e,t,n,r,i){if(!zi(e)){var o=n[Mn]=n[Mn]||{},u=o[t]=o[t]||{};!1!==o[rn]&&(o[rn]=!!i),On(n,function(s){kr(n,s,!1)&&n[s]!==r[s]&&(u[s]=n[s],delete n[s],(!Ke(e,s)||e[s]&&!e[s][Tr])&&(e[s]=function(s,c){var f=function g(){return(vs(this,c,s,g)||ps(c,s,g)).apply(this,arguments)};return f[Tr]=1,f}(e,s)))})}}(i,a,t,s,!1!==f)}ne[Ui]=Er.o,function(e){e[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING"}(k||(k={}));var x={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105},ji="attachEvent",Gi="addEventListener",Xi="toISOString",Ji="endsWith",Qi="indexOf",$i="reduce",Nr="trim",ea="toString",ta=ss,na=Oe.keys,Rr=String[he],Cs=Rr[Nr],Ss=Rr[Ji],xs=Date[he][Xi],bs=Array.isArray,zn=mr[ea],Ps=(en[ea].call(Oe),/-([a-z])/g),ks=/([^\w\d_$])/g,As=/^(\d+[\w\d_$])/,Vn=Object.getPrototypeOf;function le(e){return void 0===e||typeof e===Rt}function P(e){return null===e||le(e)}function Ns(e){return!P(e)}function Lr(e,t){return!(!e||!en.call(e,t))}function Xe(e){return!(!e||typeof e!==Ge)}function V(e){return!(!e||typeof e!==$t)}function Je(e,t,n,r){void 0===r&&(r=!1);var i=!1;if(!P(e))try{P(e[Gi])?P(e[ji])||(e[ji]("on"+t,n),i=!0):(e[Gi](t,n,r),i=!0)}catch(a){}return i}function re(e,t){if(e)for(var n in e)en.call(e,n)&&t.call(e,n,e[n])}function ge(e,t){return!(!e||!t)&&-1!==e.indexOf(t)}function oa(e){return!(!e||"[object Date]"!==zn.call(e))}var ye=bs||function(e){return!(!e||"[object Array]"!==zn.call(e))};function jn(e){return!(!e||"[object Error]"!==zn.call(e))}function U(e){return"string"==typeof e}function Fr(e){return"number"==typeof e}function Gn(e){return"boolean"==typeof e}function rt(e){if(e)return xs?e[Xi]():function(e){if(e&&e.getUTCFullYear){var t=function(r){var i=String(r);return 1===i.length&&(i="0"+i),i};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(e)}function z(e,t,n){var r=e.length;try{for(var i=0;i<r&&(!(i in e)||-1!==t.call(n||e,e[i],i,e));i++);}catch(a){}}function it(e,t,n){if(e){if(e[Qi])return e[Qi](t,n);var r=e.length,i=n||0;try{for(var a=Math.max(i>=0?i:r-Math.abs(i),0);a<r;a++)if(a in e&&e[a]===t)return a}catch(o){}}return-1}function on(e,t,n){var r;if(e){if(e.map)return e.map(t,n);var i=e.length,a=n||e;r=new Array(i);try{for(var o=0;o<i;o++)o in e&&(r[o]=t.call(a,e[o],e))}catch(u){}}return r}function ua(e,t,n){var r;if(e){if(e[$i])return e[$i](t,n);var i=e.length,a=0;if(arguments.length>=3)r=arguments[2];else{for(;a<i&&!(a in e);)a++;r=e[a++]}for(;a<i;)a in e&&(r=t(r,e[a],a,e)),a++}return r}function de(e){return e&&(e=Cs&&e[Nr]?e[Nr]():e.replace?e.replace(/^\s+|\s+$/g,""):e),e}var ca=!{toString:null}.propertyIsEnumerable("toString"),Mr=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function It(e){var t=typeof e;if(t!==$t&&(t!==Ge||null===e)&&Ir("objKeys called on non-object"),!ca&&na)return na(e);var n=[];for(var r in e)e&&en.call(e,r)&&n.push(r);if(ca)for(var i=Mr.length,a=0;a<i;a++)e&&en.call(e,Mr[a])&&n.push(Mr[a]);return n}function Ut(e,t,n,r){if(ta)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),ta(e,t,i),!0}catch(a){}return!1}function De(){var e=Date;return e.now?e.now():(new e).getTime()}function K(e){return jn(e)?e.name:""}function j(e,t,n,r,i){var a=n;return e&&(a=e[t])!==n&&(!i||i(a))&&(!r||r(n))&&(e[t]=a=n),a}function Ie(e,t,n){var r;return e?!(r=e[t])&&P(r)&&(r=le(n)?{}:n,e[t]=r):r=le(n)?{}:n,r}function la(e){return!e}function Ur(e){return!!e}function He(e){throw new Error(e)}function da(e,t,n){if(e&&t&&e!==t&&Xe(e)&&Xe(t)){var r=function(o){if(U(o)){var u=t[o];V(u)?(!n||n(o,!0,t,e))&&(e[o]=(s=o,function(){var c=arguments;return t[s].apply(t,c)})):(!n||n(o,!1,t,e))&&(Lr(e,o)&&delete e[o],Ut(e,o,function(){return t[o]},function(s){t[o]=s})||(e[o]=u))}var s};for(var i in t)r(i)}return e}function va(e){return e&&yr&&(e=Oe(yr({},e))),e}var qr="msie",Br="trident/",Or=null,Hr=null,qt=null,_r=null;function ma(e,t){var n=!1;if(e){try{if(!(n=t in e)){var r=e[he];r&&(n=t in r)}}catch(a){}if(!n)try{n=!le((new e)[t])}catch(a){}}return n}function oe(e){var t=Ft();return t&&t[e]?t[e]:"window"===e&&Wn()?window:null}function Wn(){return Boolean(typeof window===Ge&&window)}function sn(){return Wn()?window:oe("window")}function ya(){return Boolean(typeof document===Ge&&document)}function Ne(){return ya()?document:oe("document")}function Ia(){return Boolean(typeof navigator===Ge&&navigator)}function Fe(){return Ia()?navigator:oe("navigator")}function Ct(e){return typeof location===Ge&&location?location:oe("location")}function Ye(){return oe("performance")}function Bt(){return Boolean(typeof JSON===Ge&&JSON||null!==oe("JSON"))}function Me(){return Bt()?JSON||oe("JSON"):null}function Kn(){var e=Fe();if(e&&(e.userAgent!==Hr||null===Or)){var t=((Hr=e.userAgent)||"").toLowerCase();Or=ge(t,qr)||ge(t,Br)}return Or}function zr(e){if(void 0===e&&(e=null),!e){var t=Fe()||{};e=t?(t.userAgent||"").toLowerCase():""}var n=(e||"").toLowerCase();if(ge(n,qr)){var r=Ne()||{};return Math.max(parseInt(n.split(qr)[1]),r.documentMode||0)}if(ge(n,Br)){var i=parseInt(n.split(Br)[1]);if(i)return i+4}return null}function q(e){var t=Object[he].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":Bt()&&(n=Me().stringify(e)),t+n}function un(){return null===_r&&(_r=Ia()&&Boolean(Fe().sendBeacon)),_r}function Ca(e){var t=!1;try{t=!!oe("fetch");var r=oe("Request");t&&e&&r&&(t=ma(r,"keepalive"))}catch(i){}return t}function Sa(){return null===qt&&(qt="undefined"!=typeof XDomainRequest)&&Xn()&&(qt=qt&&!ma(oe("XMLHttpRequest"),"withCredentials")),qt}function Xn(){var e=!1;try{e=!!oe("XMLHttpRequest")}catch(n){}return e}var Yn,Vr=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],Jn=null;function nu(e,t){return function(){var n=arguments,r=Ta(t);if(r){var i=r.listener;i&&i[e]&&i[e].apply(i,n)}}}function Ta(e){var t=Jn;return!t&&!0!==e.disableDbgExt&&(t=Jn||function(){var e=oe("Microsoft");return e&&(Jn=e.ApplicationInsights),Jn}()),t?t.ChromeDbgExt:null}function wa(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function xa(e,t){var n=typeof console!==Rt?console:oe("console");if(n){var r="log";n[e]&&(r=e),V(n[r])&&n[r](t)}}var cn=function(){function e(t,n,r,i){void 0===r&&(r=!1);var a=this;a.messageId=t,a.message=(r?"AI: ":"AI (Internal): ")+t;var o="";Bt()&&(o=Me().stringify(i));var u=(n?" message:"+wa(n):"")+(i?" props:"+wa(o):"");a.message+=u}return e.dataType="MessageData",e}();function Qn(e,t){return(e||{}).logger||new jr(t)}var jr=function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={};ne(e,this,function(i){function a(s,c){var f=t[s];return P(f)?c:f}function u(s,c){var f=Ta(t);f&&f.diagLog&&f.diagLog(s,c)}P(t)&&(t={}),i.consoleLoggingLevel=function(){return a("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return a("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return a("maxMessageLimit",25)},i.enableDebugExceptions=function(){return a("enableDebugExceptions",!1)},i.throwInternal=function(s,c,f,g,m){void 0===m&&(m=!1);var C=new cn(c,f,m,g);if(i.enableDebugExceptions())throw C;var l=s===k.CRITICAL?"errorToConsole":"warnToConsole";if(le(C.message))u("throw"+(s===k.CRITICAL?"Critical":"Warning"),C);else{var S=i.consoleLoggingLevel();if(m){var d=+C.messageId;!r[d]&&S>=s&&(i[l](C.message),r[d]=!0)}else S>=s&&i[l](C.message);i.logInternalMessage(s,C)}},i.warnToConsole=function(s){xa("warn",s),u("warning",s)},i.errorToConsole=function(s){xa("error",s),u("error",s)},i.resetInternalMessageCount=function(){n=0,r={}},i.logInternalMessage=function(s,c){if(!(n>=i.maxInternalMessageLimit())){var f=!0,g="AITR_"+c.messageId;if(r[g]?f=!1:r[g]=!0,f&&(s<=i.telemetryLoggingLevel()&&(i.queue.push(c),n++,u(s===k.CRITICAL?"error":"warn",c)),n===i.maxInternalMessageLimit())){var m="Internal events throttle limit per PageView reached for this app.",C=new cn(x.MessageLimitPerPVExceeded,m,!1);i.queue.push(C),s===k.CRITICAL?i.errorToConsole(m):i.warnToConsole(m)}}}})},fn=function(){function e(t,n,r){var o,i=this,a=!1;i.start=De(),i.name=t,i.isAsync=r,i.isChildEvt=function(){return!1},V(n)&&(a=Ut(i,"payload",function(){return!o&&V(n)&&(o=n(),n=null),o})),i.getCtx=function(u){return u?u===e.ParentContextKey||u===e.ChildrenContextKey?i[u]:(i.ctx||{})[u]:null},i.setCtx=function(u,s){u&&(u===e.ParentContextKey?(i[u]||(i.isChildEvt=function(){return!0}),i[u]=s):u===e.ChildrenContextKey?i[u]=s:(i.ctx=i.ctx||{})[u]=s)},i.complete=function(){var u=0,s=i.getCtx(e.ChildrenContextKey);if(ye(s))for(var c=0;c<s.length;c++){var f=s[c];f&&(u+=f.time)}i.time=De()-i.start,i.exTime=i.time-u,i.complete=function(){},!a&&V(n)&&(i.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),Ea=function e(t){this.ctx={},ne(e,this,function(n){n.create=function(r,i,a){return new fn(r,i,a)},n.fire=function(r){r&&(r.complete(),t&&V(t.perfEvent)&&t.perfEvent(r))},n.setCtx=function(r,i){r&&((n.ctx=n.ctx||{})[r]=i)},n.getCtx=function(r){return(n.ctx||{})[r]}})},Gr="CoreUtils.doPerf";function Ht(e,t,n,r,i){if(e){var a=e;if(V(a.getPerfMgr)&&(a=a.getPerfMgr()),a){var o=void 0,u=a.getCtx(Gr);try{if(o=a.create(t(),r,i)){if(u&&o.setCtx&&(o.setCtx(fn.ParentContextKey,u),u.getCtx&&u.setCtx)){var s=u.getCtx(fn.ChildrenContextKey);s||u.setCtx(fn.ChildrenContextKey,s=[]),s.push(o)}return a.setCtx(Gr,o),n(o)}}catch(c){o&&o.setCtx&&o.setCtx("exception",c)}finally{o&&a.fire(o),a.setCtx(Gr,u)}}}return n()}var lu=function(t,n){var r=this,i=null,a=V(t.processTelemetry),o=V(t.setNextPlugin);r._hasRun=!1,r.getPlugin=function(){return t},r.getNext=function(){return i},r.setNext=function(u){i=u},r.processTelemetry=function(u,s){s||(s=n);var c=t?t.identifier:"TelemetryPluginChain";Ht(s?s.core():null,function(){return c+":processTelemetry"},function(){if(t&&a){r._hasRun=!0;try{s.setNext(i),o&&t.setNextPlugin(i),i&&(i._hasRun=!1),t.processTelemetry(u,s)}catch(g){var f=i&&i._hasRun;(!i||!f)&&s.diagLog().throwInternal(k.CRITICAL,x.PluginException,"Plugin ["+t.identifier+"] failed during processTelemetry - "+q(g)),i&&!f&&i.processTelemetry(u,s)}}else i&&(r._hasRun=!0,i.processTelemetry(u,s))},function(){return{item:u}},!u.sync)}};function Wr(e,t){var n=[];if(e&&e.length>0)for(var r=null,i=0;i<e.length;i++){var a=e[i];if(a&&V(a.processTelemetry)){var o=new lu(a,t);n.push(o),r&&r.setNext(o),r=o}}return n.length>0?n[0]:null}var _t=function e(t,n,r,i){var a=this,o=null;null!==i&&(t&&V(t.getPlugin)?o=function(e,t,n){var r=[],i=!n;if(e)for(;e;){var a=e.getPlugin();(i||a===n)&&(i=!0,r.push(a)),e=e.getNext()}return i||r.push(n),Wr(r,t)}(t,a,i||t.getPlugin()):i?o=function(e,t,n){var r=e,i=!1;return n&&e&&(r=[],z(e,function(a){(i||a===n)&&(i=!0,r.push(a))})),n&&!i&&(r||(r=[]),r.push(n)),Wr(r,t)}(t,a,i):le(i)&&(o=Wr(t,a))),a.core=function(){return r},a.diagLog=function(){return Qn(r,n)},a.getCfg=function(){return n},a.getExtCfg=function(u,s){var c;if(void 0===s&&(s={}),n){var f=n.extensionConfig;f&&u&&(c=f[u])}return c||s},a.getConfig=function(u,s,c){void 0===c&&(c=!1);var f,g=a.getExtCfg(u,null);return g&&!P(g[s])?f=g[s]:n&&!P(n[s])&&(f=n[s]),P(f)?c:f},a.hasNext=function(){return null!=o},a.getNext=function(){return o},a.setNext=function(u){o=u},a.processNext=function(u){var s=o;s&&(o=s.getNext(),s.processTelemetry(u,a))},a.createNew=function(u,s){return void 0===u&&(u=null),new e(u||o,n,r,s)}},Pa="extensionConfig",Zn="getPlugin",zt=function(){function e(){var t=this,n=!1,r=null,i=null;t.core=null,t.diagLog=function(a){return t._getTelCtx(a).diagLog()},t.isInitialized=function(){return n},t.setInitialized=function(a){n=a},t.setNextPlugin=function(a){i=a},t.processNext=function(a,o){o?o.processNext(a):i&&V(i.processTelemetry)&&i.processTelemetry(a,null)},t._getTelCtx=function(a){void 0===a&&(a=null);var o=a;o||(o=(r||new _t(null,{},t.core)).createNew(null,i&&i[Zn]?i[Zn]:i));return o},t._baseTelInit=function(a,o,u,s){a&&j(a,Pa,[],null,P),!s&&o&&(s=o.getProcessTelContext().getNext());var c=i;i&&i[Zn]&&(c=i[Zn]()),t.core=o,r=new _t(s,a,o,c),n=!0}}return e.prototype.initialize=function(t,n,r,i){this._baseTelInit(t,n,r,i)},e}(),Kr="processTelemetry",ka="priority",Aa="setNextPlugin",Da="isInitialized";function Xr(e,t){for(var n=[],r=null,i=e.getNext();i;){var a=i.getPlugin();a&&(r&&V(r[Aa])&&V(a[Kr])&&r[Aa](a),(!V(a[Da])||!a[Da]())&&n.push(a),r=a,i=i.getNext())}z(n,function(o){o.initialize(e.getCfg(),e.core(),t,e.getNext())})}function Na(e){return e.sort(function(t,n){var r=0,i=V(n[Kr]);return V(t[Kr])?r=i?t[ka]-n[ka]:1:i&&(r=-1),r})}var hu=function(e){function t(){var r,n=e.call(this)||this;function a(u){u&&u.length>0&&(function(u){z(u,function(s){s.priority<500&&He("Channel has invalid priority"+s.identifier)})}(u=u.sort(function(s,c){return s.priority-c.priority})),r.push(u))}return n.identifier="ChannelControllerPlugin",n.priority=500,ne(t,n,function(u,s){u.setNextPlugin=function(c){},u.processTelemetry=function(c,f){r&&z(r,function(g){g.length>0&&n._getTelCtx(f).createNew(g).processNext(c)})},u.getChannelControls=function(){return r},u.initialize=function(c,f,g){u.isInitialized()||(s.initialize(c,f,g),function(u,s){if(r=[],u&&z(u,function(f){return a(f)}),s){var c=[];z(s,function(f){f.priority>500&&c.push(f)}),a(c)}}((c||{}).channels,g),z(r,function(m){return Xr(new _t(m,c,f),g)}))}}),n}return Z(t,e),t._staticInit=(Ut(n=t.prototype,"ChannelControls",n.getChannelControls),void Ut(n,"channelQueue",n.getChannelControls)),t;var n}(zt),Ra="toGMTString",La="toUTCString",Yr="cookie",Qr="expires",Zr="enabled",Fa="isCookieUseDisabled",Ma="disableCookiesUsage",at="_ckMgr",$n=null,$r=null,Ua=null,ln=Ne(),qa={},er={};function Ba(e,t){var n=dn[at]||er[at];return n||(n=dn[at]=dn(e,t),er[at]=n),n}function tr(e){return!e||e.isEnabled()}function ei(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;n=r[at]?r[at]:dn(t)}return n||(n=Ba(t,(e||{}).logger)),n}function dn(e,t){var n=function(e){var t=e.cookieCfg=e.cookieCfg||{};if(j(t,"domain",e.cookieDomain,Ns,P),j(t,"path",e.cookiePath||"/",null,P),P(t[Zr])){var n=void 0;le(e[Fa])||(n=!e[Fa]),le(e[Ma])||(n=!e[Ma]),t[Zr]=n}return t}(e||er),r=n.path||"/",i=n.domain,a=!1!==n[Zr],o={isEnabled:function(){var s=a&&Oa(t),c=er[at];return s&&c&&o!==c&&(s=tr(c)),s},setEnabled:function(s){a=!1!==s},set:function(s,c,f,g,m){var C=!1;if(tr(o)){var l={},S=de(c||""),d=S.indexOf(";");if(-1!==d&&(S=de(c.substring(0,d)),l=Ha(c.substring(d+1))),j(l,"domain",g||i,Ur,le),!P(f)){var h=Kn();if(le(l[Qr])){var A=De()+1e3*f;if(A>0){var L=new Date;L.setTime(A),j(l,Qr,_a(L,h?Ra:La)||_a(L,h?Ra:La)||"",Ur)}}h||j(l,"max-age",""+f,null,le)}var B=Ct();B&&"https:"===B.protocol&&(j(l,"secure",null,null,le),null===$r&&($r=!ja((Fe()||{}).userAgent)),$r&&j(l,"SameSite","None",null,le)),j(l,"path",m||r,null,le),(n.setCookie||Va)(s,za(S,l)),C=!0}return C},get:function(s){var c="";return tr(o)&&(c=(n.getCookie||yu)(s)),c},del:function(s,c){var f=!1;return tr(o)&&(f=o.purge(s,c)),f},purge:function(s,c){var f,g=!1;if(Oa(t)){var m=((f={}).path=c||"/",f[Qr]="Thu, 01 Jan 1970 00:00:01 GMT",f);Kn()||(m["max-age"]="0"),(n.delCookie||Va)(s,za("",m)),g=!0}return g}};return o[at]=o,o}function Oa(e){if(null===$n){$n=!1;try{$n=void 0!==(ln||{})[Yr]}catch(n){e&&e.throwInternal(k.WARNING,x.CannotAccessCookie,"Cannot access document.cookie - "+K(n),{exception:q(n)})}}return $n}function Ha(e){var t={};return e&&e.length&&z(de(e).split(";"),function(r){if(r=de(r||"")){var i=r.indexOf("=");-1===i?t[r]=null:t[de(r.substring(0,i))]=de(r.substring(i+1))}}),t}function _a(e,t){return V(e[t])?e[t]():null}function za(e,t){var n=e||"";return re(t,function(r,i){n+="; "+r+(P(i)?"":"="+i)}),n}function yu(e){var t="";if(ln){var n=ln[Yr]||"";Ua!==n&&(qa=Ha(n),Ua=n),t=de(qa[e]||"")}return t}function Va(e,t){ln&&(ln[Yr]=e+"="+t)}function ja(e){return!!U(e)&&!!(ge(e,"CPU iPhone OS 12")||ge(e,"iPad; CPU OS 12")||ge(e,"Macintosh; Intel Mac OS X 10_14")&&ge(e,"Version/")&&ge(e,"Safari")||ge(e,"Macintosh; Intel Mac OS X 10_14")&&function(e,t){var n=!1;return e&&!(n=e===t)&&(n=Ss?e[Ji](t):function(e,t){var n=!1,r=t.length,i=e?e.length:0;if(r&&i&&i>=r&&!(n=e===t)){for(var a=i-1,o=r-1;o>=0;o--){if(e[a]!=t[o])return!1;a--}n=!0}return n}(e,t)),n}(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||ge(e,"Chrome/5")||ge(e,"Chrome/6")||ge(e,"UnrealEngine")&&!ge(e,"Chrome")||ge(e,"UCBrowser/12")||ge(e,"UCBrowser/11"))}var Ga="_notificationManager";function Cu(e,t){return new Ea(t)}var Wa=function e(){var n,r,i,a,o,t=!1;ne(e,this,function(u){u._extensions=new Array,r=new hu,u.logger=new jr({loggingLevelConsole:k.CRITICAL}),n=[],u.isInitialized=function(){return t},u.initialize=function(s,c,f,g){u.isInitialized()&&He("Core should not be initialized more than once"),(!s||P(s.instrumentationKey))&&He("Please provide instrumentation key"),i=g,u[Ga]=g,u.config=s||{},g&&!0!==u.config.disableDbgExt&&g.addNotificationListener(function(e){if(!Yn){Yn={};for(var t=0;t<Vr.length;t++)Yn[Vr[t]]=nu(Vr[t],e)}return Yn}(s)),u.config.enablePerfMgr&&j(u.config,"createPerfMgr",Cu),s.extensions=P(s.extensions)?[]:s.extensions,Ie(s,Pa).NotificationManager=g,f&&(u.logger=f);var C=[];C.push.apply(C,Mi(Mi([],c),s.extensions)),C=Na(C);var l=[],S=[],d={};z(C,function(h){(P(h)||P(h.initialize))&&He("Extensions must provide callback to initialize");var y=h.priority,A=h.identifier;h&&y&&(P(d[y])?d[y]=A:f.warnToConsole("Two extensions have same priority #"+y+" - "+d[y]+", "+A)),!y||y<r.priority?l.push(h):S.push(h)}),C.push(r),l.push(r),C=Na(C),u._extensions=C,Xr(new _t([r],s,u),C),Xr(new _t(l,s,u),C),u._extensions=l,0===u.getTransmissionControls().length&&He("No channels available"),t=!0,u.releaseQueue()},u.getTransmissionControls=function(){return r.getChannelControls()},u.track=function(s){j(s,"iKey",u.config.instrumentationKey,null,la),j(s,"time",rt(new Date),null,la),j(s,"ver","4.0",null,P),u.isInitialized()?u.getProcessTelContext().processNext(s):n.push(s)},u.getProcessTelContext=function(){var s=u._extensions,c=s;return(!s||0===s.length)&&(c=[r]),new _t(c,u.config,u)},u.getNotifyMgr=function(){return i||(i=Cr({addNotificationListener:function(c){},removeNotificationListener:function(c){},eventsSent:function(c){},eventsDiscarded:function(c,f){},eventsSendRequest:function(c,f){}}),u[Ga]=i),i},u.getCookieMgr=function(){return o||(o=dn(u.config,u.logger)),o},u.setCookieMgr=function(s){o=s},u.getPerfMgr=function(){return a||u.config&&u.config.enablePerfMgr&&V(u.config.createPerfMgr)&&(a=u.config.createPerfMgr(u,u.getNotifyMgr())),a||null},u.setPerfMgr=function(s){a=s},u.eventCnt=function(){return n.length},u.releaseQueue=function(){n.length>0&&(z(n,function(s){u.getProcessTelContext().processNext(s)}),n=[])}})},Ka=function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;ne(e,this,function(r){r.addNotificationListener=function(i){r.listeners.push(i)},r.removeNotificationListener=function(i){for(var a=it(r.listeners,i);a>-1;)r.listeners.splice(a,1),a=it(r.listeners,i)},r.eventsSent=function(i){z(r.listeners,function(a){a&&a.eventsSent&&setTimeout(function(){return a.eventsSent(i)},0)})},r.eventsDiscarded=function(i,a){z(r.listeners,function(o){o&&o.eventsDiscarded&&setTimeout(function(){return o.eventsDiscarded(i,a)},0)})},r.eventsSendRequest=function(i,a){z(r.listeners,function(o){if(o&&o.eventsSendRequest)if(a)setTimeout(function(){return o.eventsSendRequest(i,a)},0);else try{o.eventsSendRequest(i,a)}catch(u){}})},r.perfEvent=function(i){i&&(n||!i.isChildEvt())&&z(r.listeners,function(a){if(a&&a.perfEvent)if(i.isAsync)setTimeout(function(){return a.perfEvent(i)},0);else try{a.perfEvent(i)}catch(o){}})}})},Xa=function(e){function t(){var n=e.call(this)||this,r=0;return ne(t,n,function(i,a){function u(s){var c=i.getNotifyMgr();c&&c.eventsDiscarded([s],2)}i.initialize=function(s,c,f,g){a.initialize(s,c,f||new jr(s),g||new Ka(s))},i.track=function(s){Ht(i.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){null===s&&(u(s),He("Invalid telemetry item")),function(s){if(P(s.name))throw u(s),Error("telemetry name required")}(s),a.track(s)},function(){return{item:s}},!s.sync)},i.addNotificationListener=function(s){var c=i.getNotifyMgr();c&&c.addNotificationListener(s)},i.removeNotificationListener=function(s){var c=i.getNotifyMgr();c&&c.removeNotificationListener(s)},i.pollInternalLogs=function(s){var c=i.config.diagnosticLogInterval;return(!c||!(c>0))&&(c=1e4),r&&i.stopPollingInternalLogs(),r=setInterval(function(){var f=i.logger?i.logger.queue:[];z(f,function(g){var m={name:s||"InternalMessageId: "+g.messageId,iKey:i.config.instrumentationKey,time:rt(new Date),baseType:cn.dataType,baseData:{message:g.message}};i.track(m)}),f.length=0},c)},i.stopPollingInternalLogs=function(){!r||(clearInterval(r),r=0)}}),n}return Z(t,e),t}(Wa),Ja=4294967296,ot=4294967295,Ya=!1,vn=123456789,pn=987654321;function Qa(e){e<0&&(e>>>=0),vn=123456789+e&ot,pn=987654321-e&ot,Ya=!0}function Za(){try{var e=2147483647&De();Qa((Math.random()*Ja^e)+e)}catch(t){}}function $a(e){return e>0?Math.floor(St()/ot*(e+1))>>>0:0}function St(e){var t,n=oe("crypto")||oe("msCrypto");return n&&n.getRandomValues?t=n.getRandomValues(new Uint32Array(1))[0]&ot:Kn()?(Ya||Za(),t=eo()&ot):t=Math.floor(Ja*Math.random()|0),e||(t>>>=0),t}function eo(e){var t=((pn=36969*(65535&pn)+(pn>>16)&ot)<<16)+(65535&(vn=18e3*(65535&vn)+(vn>>16)&ot))>>>0&ot|0;return e||(t>>>=0),t}var hn,nr="visibilitychange",to="pagehide",gn=null;function Vt(e,t){var n=!1,r=sn();r&&(n=Je(r,e,t),n=Je(r.body,e,t)||n);var i=Ne();return i&&(n=Je(i,e,t)||n),n}function ro(e,t,n){var r=!1;if(t&&e&&ye(e)){var i=[];z(e,function(a){U(a)&&(n&&-1!==it(n,a)?i.push(a):r=Vt(a,t)||r)}),!r&&i.length>0&&(r=ro(i,t))}return r}function wu(e,t){return ro(["beforeunload","unload","pagehide"],e,t)}function ti(e,t){var r=!1;return(!t||-1===it(t,to))&&(r=Vt(to,e)),(!t||-1===it(t,nr))&&(r=Vt(nr,function(i){var a=Ne();e&&a&&"hidden"===a.visibilityState&&e(i)})||r),!r&&t&&(r=ti(e)),r}function rr(e){void 0===e&&(e=22);for(var n=St()>>>0,r=0,i="";i.length<e;)r++,i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&n),n>>>=6,5===r&&(n=(St()<<2&4294967295|3&n)>>>0,r=0);return i}function _e(){for(var n,e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t="",r=0;r<4;r++)t+=e[15&(n=St())]+e[n>>4&15]+e[n>>8&15]+e[n>>12&15]+e[n>>16&15]+e[n>>20&15]+e[n>>24&15]+e[n>>28&15];var i=e[8+(3&St())|0];return t.substr(0,8)+t.substr(9,4)+"4"+t.substr(13,3)+i+t.substr(16,3)+t.substr(19,12)}var ni={_canUseCookies:void 0,isTypeof:function(e,t){return typeof e===t},isUndefined:le,isNullOrUndefined:P,hasOwnProperty:Lr,isFunction:V,isObject:Xe,isDate:oa,isArray:ye,isError:jn,isString:U,isNumber:Fr,isBoolean:Gn,toISOString:rt,arrForEach:z,arrIndexOf:it,arrMap:on,arrReduce:ua,strTrim:de,objCreate:Cr,objKeys:It,objDefineAccessors:Ut,addEventHandler:Vt,dateNow:De,isIE:Kn,disableCookies:io,newGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Pu,function(t){var n=0|$a(15);return("x"===t?n:3&n|8).toString(16)})},perfNow:function(){var e=Ye();return e&&e.now?e.now():De()},newId:rr,randomValue:$a,random32:St,mwcRandomSeed:function(e){e?Qa(e):Za()},mwcRandom32:eo,generateW3CId:_e},Pu=/[xy]/g;function jt(e,t){var n=Ba(e,t),r=ni._canUseCookies;return null===gn&&(gn=[],hn=r,Ut(ni,"_canUseCookies",function(){return hn},function(i){hn=i,z(gn,function(a){a.setEnabled(i)})})),-1===it(gn,n)&&gn.push(n),Gn(r)&&n.setEnabled(r),Gn(hn)&&n.setEnabled(hn),n}function io(){jt().setEnabled(!1)}var mn="AppInsightsPropertiesPlugin",ri="AppInsightsChannelPlugin",ao="ApplicationInsightsAnalytics";function ii(e,t,n){var r=t.length,i=oo(e,t);if(i.length!==r){for(var a=0,o=i;void 0!==n[o];)a++,o=i.substring(0,147)+co(a);i=o}return i}function oo(e,t){var n;return t&&(t=de(t.toString())).length>150&&(n=t.substring(0,150),e&&e.throwInternal(k.WARNING,x.NameTooLong,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),n||t}function ve(e,t,n){var r;return void 0===n&&(n=1024),t&&(n=n||1024,(t=de(t)).toString().length>n&&(r=t.toString().substring(0,n),e&&e.throwInternal(k.WARNING,x.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function yn(e,t){return oi(e,t,2048,x.UrlTooLong)}function ai(e,t){var n;return t&&t.length>32768&&(n=t.substring(0,32768),e&&e.throwInternal(k.WARNING,x.MessageTruncated,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function so(e,t){var n;if(t){var r=""+t;r.length>32768&&(n=r.substring(0,32768),e&&e.throwInternal(k.WARNING,x.ExceptionTruncated,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return n||t}function st(e,t){if(t){var n={};re(t,function(r,i){if(Xe(i)&&Bt())try{i=Me().stringify(i)}catch(a){e&&e.throwInternal(k.WARNING,x.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:a},!0)}i=ve(e,i,8192),r=ii(e,r,n),n[r]=i}),t=n}return t}function ut(e,t){if(t){var n={};re(t,function(r,i){r=ii(e,r,n),n[r]=i}),t=n}return t}function uo(e,t){return t&&oi(e,t,128,x.IdTooLong).toString()}function oi(e,t,n,r){var i;return t&&(t=de(t)).length>n&&(i=t.substring(0,n),e&&e.throwInternal(k.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t}function co(e){var t="00"+e;return t.substr(t.length-3)}var fi,Ru={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768,sanitizeKeyAndAddUniqueness:ii,sanitizeKey:oo,sanitizeString:ve,sanitizeUrl:yn,sanitizeMessage:ai,sanitizeException:so,sanitizeProperties:st,sanitizeMeasurements:ut,sanitizeId:uo,sanitizeInput:oi,padNumber:co,trim:de},ct="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",si="sampleRate",In="ProcessLegacy",ui="http.method",fo="https://dc.services.visualstudio.com",qe="not_specified",ci="iKey",Qe=function(){function e(){}return e.create=function(t,n,r,i,a,o){if(r=ve(i,r)||qe,P(t)||P(n)||P(r))throw Error("Input doesn't contain all required fields");var u="";t[ci]&&(u=t[ci],delete t[ci]);var s={name:r,time:rt(new Date),iKey:u,ext:o||{},tags:[],data:{},baseType:n,baseData:t};return P(a)||re(a,function(c,f){s.data[c]=f}),s},e}(),lo=function(){this.ver=2,this.properties={},this.measurements={}},ze=function(e){function t(n,r,i,a){var o=e.call(this)||this;return o.aiDataContract={ver:1,name:1,properties:0,measurements:0},o.name=ve(n,r)||qe,o.properties=st(n,i),o.measurements=ut(n,a),o}return Z(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}(lo),ft=function(e){function t(n,r,i,a,o){var u=e.call(this)||this;return u.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},u.message=ai(n,r=r||qe),u.properties=st(n,a),u.measurements=ut(n,o),i&&(u.severityLevel=i),u}return Z(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}(function(){this.ver=2,this.properties={},this.measurements={}});!function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"}(fi||(fi={}));var Uu=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},n}return Z(t,e),t}(function(){this.kind=fi.Measurement}),Ze=function(e){function t(n,r,i,a,o,u,s,c,f){var g=e.call(this)||this;g.aiDataContract={ver:1,metrics:1,properties:0};var m=new Uu;return m.count=a>0?a:void 0,m.max=isNaN(u)||null===u?void 0:u,m.min=isNaN(o)||null===o?void 0:o,m.name=ve(n,r)||qe,m.value=i,m.stdDev=isNaN(s)||null===s?void 0:s,g.metrics=[m],g.properties=st(n,c),g.measurements=ut(n,f),g}return Z(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}(function(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}}),li=function(e){function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return Z(t,e),t}(lo);function X(e,t){return void 0===t&&(t=!1),null==e?t:"true"===e.toString().toLowerCase()}function $e(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,n=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,a=Math.floor(e/864e5);return(a>0?a+".":"")+(i=i.length<2?"0"+i:i)+":"+(r=r.length<2?"0"+r:r)+":"+(n=n.length<2?"0"+n:n)+"."+(1===t.length?"00"+t:2===t.length?"0"+t:t)}function vo(e,t){var n=null;return z(e,function(r){if(r.identifier===t)return n=r,-1}),n}function po(e,t,n,r,i){return!i&&U(e)&&("Script error."===e||"Script error"===e)}var Ve=function(e){function t(n,r,i,a,o,u,s){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},c.id=uo(n,s),c.url=yn(n,i),c.name=ve(n,r)||qe,isNaN(a)||(c.duration=$e(a)),c.properties=st(n,o),c.measurements=ut(n,u),c}return Z(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}(li),qu=function(e){function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return Z(t,e),t}(li),lt=function(e){function t(n,r,i,a,o,u,s){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},c.url=yn(n,i),c.name=ve(n,r)||qe,c.properties=st(n,o),c.measurements=ut(n,u),s&&(c.domProcessing=s.domProcessing,c.duration=s.duration,c.networkConnect=s.networkConnect,c.perfTotal=s.perfTotal,c.receivedResponse=s.receivedResponse,c.sentRequest=s.sentRequest),c}return Z(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}(qu),Gt="error",Re="stack",di="stackDetails",go="errorSrc",vi="message",ho="description";function pi(e,t){var n=e;return n&&!U(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),t&&(!n||"{}"===n)&&(n=V(e.toString)?e.toString():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function mo(e,t){var n=e;return e&&(n&&!U(n)&&(n=e[vi]||e[ho]||n),n&&!U(n)&&(n=pi(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===(n||"").indexOf(t)&&(n=t+": "+n),n||""}function yo(e){return e&&e.src&&U(e.src)&&e.obj&&ye(e.obj)}function Wt(e){var t=e||"";U(t)||(t=U(t[Re])?t[Re]:""+t);var n=t.split("\n");return{src:t,obj:n}}function Io(e){var t=null;if(e)try{if(e[Re])t=Wt(e[Re]);else if(e[Gt]&&e[Gt][Re])t=Wt(e[Gt][Re]);else if(e.exception&&e.exception[Re])t=Wt(e.exception[Re]);else if(yo(e))t=e;else if(yo(e[di]))t=e[di];else if(window&&window.opera&&e[vi])t=function(e){for(var t=[],n=e.split("\n"),r=0;r<n.length;r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t.push(i)}return{src:e,obj:t}}(e.message);else if(U(e))t=Wt(e);else{var n=e[vi]||e[ho]||"";U(e[go])&&(n&&(n+="\n"),n+=" from "+e[go]),n&&(t=Wt(n))}}catch(r){t=Wt(r)}return t||{src:"",obj:null}}function ir(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var r=/function (.{1,200})\(/.exec(e.constructor.toString());t=r&&r.length>1?r[1]:""}catch(i){}return t}function gi(e){if(e)try{if(!U(e)){var t=ir(e),n=pi(e,!1);return(!n||"{}"===n)&&(e[Gt]&&(t=ir(e=e[Gt])),n=pi(e,!0)),0!==n.indexOf(t)&&"String"!==t?t+":"+n:n}}catch(r){}return""+(e||"")}var Cn,Tt,Be,Te=function(e){function t(n,r,i,a,o,u){var s=e.call(this)||this;return s.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},function(e){try{if(Xe(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(t){}return!1}(r)?(s.exceptions=r.exceptions,s.properties=r.properties,s.measurements=r.measurements,r.severityLevel&&(s.severityLevel=r.severityLevel),r.id&&(s.id=r.id),r.problemGroup&&(s.problemGroup=r.problemGroup),s.ver=2,P(r.isManual)||(s.isManual=r.isManual)):(i||(i={}),s.exceptions=[new Co(n,r,i)],s.properties=st(n,i),s.measurements=ut(n,a),o&&(s.severityLevel=o),u&&(s.id=u)),s}return Z(t,e),t.CreateAutoException=function(n,r,i,a,o,u,s,c){var f=ir(o||u||n);return{message:mo(n,f),url:r,lineNumber:i,columnNumber:a,error:gi(o||u||n),evt:gi(u||n),typeName:f,stackDetails:Io(s||o||u),errorSrc:c}},t.CreateFromInterface=function(n,r,i,a){var o=r.exceptions&&on(r.exceptions,function(s){return Co.CreateFromInterface(n,s)});return new t(n,me(me({},r),{exceptions:o}),i,a)},t.prototype.toInterface=function(){var n=this,r=n.exceptions,i=n.properties,a=n.measurements,o=n.severityLevel,u=n.problemGroup,s=n.id,c=n.isManual;return{ver:"4.0",exceptions:r instanceof Array&&on(r,function(g){return g.toInterface()})||void 0,severityLevel:o,properties:i,measurements:a,problemGroup:u,id:s,isManual:c}},t.CreateSimpleException=function(n,r,i,a,o,u){return{exceptions:[{hasFullStack:!0,message:n,stack:o,typeName:r}]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=gi,t}(function(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}),Co=function(e){function t(n,r,i){var a=e.call(this)||this;if(a.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},function(e){try{if(Xe(e))return"hasFullStack"in e&&"typeName"in e}catch(t){}return!1}(r))a.typeName=r.typeName,a.message=r.message,a[Re]=r[Re],a.parsedStack=r.parsedStack,a.hasFullStack=r.hasFullStack;else{var o=r,u=o&&o.evt;jn(o)||(o=o[Gt]||u||o),a.typeName=ve(n,ir(o))||qe,a.message=ai(n,mo(r||o,a.typeName))||qe;var s=r[di]||Io(r);a.parsedStack=function(e){var t,n=e.obj;if(n&&n.length>0){t=[];var r=0,i=0;if(z(n,function(l){var S=l.toString();if(hi.regex.test(S)){var d=new hi(S,r++);i+=d.sizeInBytes,t.push(d)}}),i>32768)for(var o=0,u=t.length-1,s=0,c=o,f=u;o<u;){if((s+=t[o].sizeInBytes+t[u].sizeInBytes)>32768){t.splice(c,f-c+1);break}c=o,f=u,o++,u--}}return t}(s),a[Re]=so(n,function(e){var t="";return e&&(e.obj?z(e.obj,function(n){t+=n+"\n"}):t=e.src||""),t}(s)),a.hasFullStack=ye(a.parsedStack)&&a.parsedStack.length>0,i&&(i.typeName=i.typeName||a.typeName)}return a}return Z(t,e),t.prototype.toInterface=function(){var n=this.parsedStack instanceof Array&&on(this.parsedStack,function(i){return i.toInterface()});return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[Re],parsedStack:n||void 0}},t.CreateFromInterface=function(n,r){var i=r.parsedStack instanceof Array&&on(r.parsedStack,function(o){return hi.CreateFromInterface(o)})||r.parsedStack;return new t(n,me(me({},r),{parsedStack:i}))},t}(function(){this.hasFullStack=!0,this.parsedStack=[]}),hi=function(e){function t(n,r){var i=e.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},"string"==typeof n){var a=n;i.level=r,i.method="<no_method>",i.assembly=de(a),i.fileName="",i.line=0;var o=a.match(t.regex);o&&o.length>=5&&(i.method=de(o[2])||i.method,i.fileName=de(o[4]),i.line=parseInt(o[5])||0)}else i.level=n.level,i.method=n.method,i.assembly=n.assembly,i.fileName=n.fileName,i.line=n.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=t.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}return Z(t,e),t.CreateFromInterface=function(n){return new t(n,null)},t.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},t.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}(function(){});!function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"}(Cn||(Cn={})),function(e){e[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage"}(Tt||(Tt={})),function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C",e[e.W3C=2]="W3C"}(Be||(Be={}));var wt=void 0,xt=void 0;function mi(){return Ii()?ar(Tt.LocalStorage):null}function ar(e){try{if(P(Ft()))return null;var t=new Date,n=oe(e===Tt.LocalStorage?"localStorage":"sessionStorage");n.setItem(t.toString(),t.toString());var r=n.getItem(t.toString())!==t.toString();if(n.removeItem(t.toString()),!r)return n}catch(i){}return null}function yi(){return Kt()?ar(Tt.SessionStorage):null}function So(){wt=!1,xt=!1}function Ii(){return void 0===wt&&(wt=!!ar(Tt.LocalStorage)),wt}function To(e,t){var n=mi();if(null!==n)try{return n.getItem(t)}catch(r){wt=!1,e.throwInternal(k.WARNING,x.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+K(r),{exception:q(r)})}return null}function wo(e,t,n){var r=mi();if(null!==r)try{return r.setItem(t,n),!0}catch(i){wt=!1,e.throwInternal(k.WARNING,x.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+K(i),{exception:q(i)})}return!1}function xo(e,t){var n=mi();if(null!==n)try{return n.removeItem(t),!0}catch(r){wt=!1,e.throwInternal(k.WARNING,x.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+K(r),{exception:q(r)})}return!1}function Kt(){return void 0===xt&&(xt=!!ar(Tt.SessionStorage)),xt}function or(e,t){var n=yi();if(null!==n)try{return n.getItem(t)}catch(r){xt=!1,e.throwInternal(k.WARNING,x.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+K(r),{exception:q(r)})}return null}function sr(e,t,n){var r=yi();if(null!==r)try{return r.setItem(t,n),!0}catch(i){xt=!1,e.throwInternal(k.WARNING,x.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+K(i),{exception:q(i)})}return!1}function bo(e,t){var n=yi();if(null!==n)try{return n.removeItem(t),!0}catch(r){xt=!1,e.throwInternal(k.WARNING,x.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+K(r),{exception:q(r)})}return!1}function Xt(e){var t=null;if(V(Event))t=new Event(e);else{var n=Ne();n&&n.createEvent&&(t=n.createEvent("Event")).initEvent(e,!0,!0)}return t}var Y={requestContextHeader:"Request-Context",requestContextTargetKey:"appId",requestContextAppIdFormat:"appId=cid-v1:",requestIdHeader:"Request-Id",traceParentHeader:"traceparent",traceStateHeader:"tracestate",sdkContextHeader:"Sdk-Context",sdkContextHeaderAppIdRequest:"appId",requestContextHeaderLowerCase:"request-context"},Eo=Ne()||{},Po=0,Xu=[null,null,null,null,null];function Sn(e){var t=Po,n=Xu,r=n[t];return Eo.createElement?n[t]||(r=n[t]=Eo.createElement("a")):r={host:Do(e,!0)},r.href=e,++t>=n.length&&(t=0),Po=t,r}function ko(e){var t,n=Sn(e);return n&&(t=n.href),t}function Ao(e,t){return e?e.toUpperCase()+" "+t:t}function Do(e,t){var n=Ci(e,t)||"";if(n){var r=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=r&&r.length>3&&U(r[2])&&r[2].length>0)return r[2]+(r[3]||"")}return n}function Ci(e,t){var n=null;if(e){var r=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(null!=r&&r.length>2&&U(r[2])&&r[2].length>0&&(n=r[2]||"",t&&r.length>2)){var i=(r[1]||"").toLowerCase(),a=r[3]||"";("http"===i&&":80"===a||"https"===i&&":443"===a)&&(a=""),n+=a}}return n}var Yu=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"];function Tn(e){return-1!==Yu.indexOf(e.toLowerCase())}var No={NotSpecified:qe,createDomEvent:Xt,disableStorage:So,isInternalApplicationInsightsEndpoint:Tn,canUseLocalStorage:Ii,getStorage:To,setStorage:wo,removeStorage:xo,canUseSessionStorage:Kt,getSessionStorageKeys:function(){var e=[];return Kt()&&re(oe("sessionStorage"),function(t){e.push(t)}),e},getSessionStorage:or,setSessionStorage:sr,removeSessionStorage:bo,disableCookies:io,canUseCookies:function(e){return jt(null,e).isEnabled()},disallowsSameSiteNone:ja,setCookie:function(e,t,n,r){jt(null,e).set(t,n,null,r)},stringToBoolOrDefault:X,getCookie:function(e,t){return jt(null,e).get(t)},deleteCookie:function(e,t){return jt(null,e).del(t)},trim:de,newId:rr,random32:function(){return St(!0)},generateW3CId:_e,isArray:ye,isError:jn,isDate:oa,toISOStringForIE8:rt,getIEVersion:zr,msToTimeSpan:$e,isCrossOriginError:po,dump:q,getExceptionName:K,addEventHandler:Je,IsBeaconApiSupported:un,getExtension:vo},Qu={parseUrl:Sn,getAbsoluteUrl:ko,getPathName:function(e){var t,n=Sn(e);return n&&(t=n.pathname),t},getCompleteUrl:Ao,parseHost:Do,parseFullHost:Ci},bt={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(t,n,r){if(!n||t&&t.disableCorrelationHeaders)return!1;if(t&&t.correlationHeaderExcludePatterns)for(var i=0;i<t.correlationHeaderExcludePatterns.length;i++)if(t.correlationHeaderExcludePatterns[i].test(n))return!1;var a=Sn(n).host.toLowerCase();if(a&&(-1!==a.indexOf(":443")||-1!==a.indexOf(":80"))&&(a=(Ci(n,!0)||"").toLowerCase()),(!t||!t.enableCorsCorrelation)&&a&&a!==r)return!1;var u,o=t&&t.correlationHeaderDomains;if(o&&(z(o,function(f){var g=new RegExp(f.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));u=u||g.test(a)}),!u))return!1;var s=t&&t.correlationHeaderExcludedDomains;if(!s||0===s.length)return!0;for(i=0;i<s.length;i++)if(new RegExp(s[i].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(a))return!1;return a&&a.length>0},getCorrelationContext:function(t){if(t){var n=bt.getCorrelationContextValue(t,Y.requestContextTargetKey);if(n&&n!==bt.correlationIdPrefix)return n}},getCorrelationContextValue:function(t,n){if(t)for(var r=t.split(","),i=0;i<r.length;++i){var a=r[i].split("=");if(2===a.length&&a[0]===n)return a[1]}}};function wn(){var e=Ye();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return De()}function Ce(e,t){var n=null;return 0!==e&&0!==t&&!P(e)&&!P(t)&&(n=t-e),n}var $u={Now:wn,GetDuration:Ce},et=function(e){function t(n,r,i,a,o,u,s,c,f,g,m,C){void 0===f&&(f="Ajax");var l=e.call(this)||this;l.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},l.id=r,l.duration=$e(o),l.success=u,l.resultCode=s+"",l.type=ve(n,f);var S=function(e,t,n,r){var i,a=r,o=r;if(t&&t.length>0){var u=Sn(t);if(i=u.host,!a)if(null!=u.pathname){var s=0===u.pathname.length?"/":u.pathname;"/"!==s.charAt(0)&&(s="/"+s),o=u.pathname,a=ve(e,n?n+" "+s:s)}else a=ve(e,t)}else i=r,a=r;return{target:i,name:a,data:o}}(n,i,c,a);return l.data=yn(n,a)||S.data,l.target=ve(n,S.target),g&&(l.target="".concat(l.target," | ").concat(g)),l.name=ve(n,S.name),l.properties=st(n,m),l.measurements=ut(n,C),l}return Z(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}(function(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}),tc=function e(t,n,r,i){ne(e,this,function(a){var c,o=null,u=[],s=!1;function f(){r&&z(r.getTransmissionControls(),function(m){z(m,function(C){return C.flush(!0)})})}r&&(c=r.logger),a.trackPageView=function(m,C){var l=m.name;if(P(l)||"string"!=typeof l){var S=Ne();l=m.name=S&&S.title||""}var d=m.uri;if(P(d)||"string"!=typeof d){var h=Ct();d=m.uri=h&&h.href||""}if(!i.isPerformanceTimingSupported())return t.sendPageViewInternal(m,C),f(),void c.throwInternal(k.WARNING,x.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var A,B,y=!1,L=i.getPerformanceTiming().navigationStart;L>0&&(A=Ce(L,+new Date),i.shouldCollectDuration(A)||(A=void 0)),!P(C)&&!P(C.duration)&&(B=C.duration),(n||!isNaN(B))&&(isNaN(B)&&(C||(C={}),C.duration=A),t.sendPageViewInternal(m,C),f(),y=!0),C||(C={}),function(m){u.push(m),o||(o=setInterval(function(){var C=u.slice(0),l=!1;u=[],z(C,function(S){S()?l=!0:u.push(S)}),0===u.length&&(clearInterval(o),o=null),l&&f()},100))}(function(){var F=!1;try{if(i.isPerformanceTimingDataReady()){F=!0;var W={name:l,uri:d};i.populatePageViewPerformanceEvent(W),W.isValid||y?(y||(C.duration=W.durationMs,t.sendPageViewInternal(m,C)),s||(t.sendPageViewPerformanceInternal(W,C),s=!0)):(C.duration=A,t.sendPageViewInternal(m,C))}else L>0&&Ce(L,+new Date)>6e4&&(F=!0,y||(C.duration=6e4,t.sendPageViewInternal(m,C)))}catch(ae){c.throwInternal(k.CRITICAL,x.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+K(ae),{exception:q(ae)})}return F})}})},nc=function(){function e(t,n){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=n,this._logger=t}return e.prototype.trackPreviousPageVisit=function(t,n){try{var r=this.restartPageVisitTimer(t,n);r&&this.pageVisitTimeTrackingHandler(r.pageName,r.pageUrl,r.pageVisitTime)}catch(i){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+q(i))}},e.prototype.restartPageVisitTimer=function(t,n){try{var r=this.stopPageVisitTimer();return this.startPageVisitTimer(t,n),r}catch(i){return this._logger.warnToConsole("Call to restart failed: "+q(i)),null}},e.prototype.startPageVisitTimer=function(t,n){try{if(Kt()){null!=or(this._logger,this.prevPageVisitDataKeyName)&&He("Cannot call startPageVisit consecutively without first calling stopPageVisit");var r=new rc(t,n),i=Me().stringify(r);sr(this._logger,this.prevPageVisitDataKeyName,i)}}catch(a){this._logger.warnToConsole("Call to start failed: "+q(a))}},e.prototype.stopPageVisitTimer=function(){try{if(Kt()){var t=De(),n=or(this._logger,this.prevPageVisitDataKeyName);if(n&&Bt()){var r=Me().parse(n);return r.pageVisitTime=t-r.pageVisitStartTime,bo(this._logger,this.prevPageVisitDataKeyName),r}return null}return null}catch(i){return this._logger.warnToConsole("Stop page visit timer failed: "+q(i)),null}},e}(),rc=function(t,n){this.pageVisitStartTime=De(),this.pageName=t,this.pageUrl=n},ic=function(){function e(t){this.MAX_DURATION_ALLOWED=36e5,t&&(this._logger=t.logger)}return e.prototype.populatePageViewPerformanceEvent=function(t){t.isValid=!1;var n=this.getPerformanceNavigationTiming(),r=this.getPerformanceTiming(),i=0,a=0,o=0,u=0,s=0;(n||r)&&(n?(i=n.duration,a=0===n.startTime?n.connectEnd:Ce(n.startTime,n.connectEnd),o=Ce(n.requestStart,n.responseStart),u=Ce(n.responseStart,n.responseEnd),s=Ce(n.responseEnd,n.loadEventEnd)):(i=Ce(r.navigationStart,r.loadEventEnd),a=Ce(r.navigationStart,r.connectEnd),o=Ce(r.requestStart,r.responseStart),u=Ce(r.responseStart,r.responseEnd),s=Ce(r.responseEnd,r.loadEventEnd)),0===i?this._logger.throwInternal(k.WARNING,x.ErrorPVCalc,"error calculating page view performance.",{total:i,network:a,request:o,response:u,dom:s}):this.shouldCollectDuration(i,a,o,u,s)?i<Math.floor(a)+Math.floor(o)+Math.floor(u)+Math.floor(s)?this._logger.throwInternal(k.WARNING,x.ClientPerformanceMathError,"client performance math error.",{total:i,network:a,request:o,response:u,dom:s}):(t.durationMs=i,t.perfTotal=t.duration=$e(i),t.networkConnect=$e(a),t.sentRequest=$e(o),t.receivedResponse=$e(u),t.domProcessing=$e(s),t.isValid=!0):this._logger.throwInternal(k.WARNING,x.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:i,network:a,request:o,response:u,dom:s}))},e.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?Ye().timing:null},e.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?Ye().getEntriesByType("navigation")[0]:null},e.prototype.isPerformanceNavigationTimingSupported=function(){var t=Ye();return t&&t.getEntriesByType&&t.getEntriesByType("navigation").length>0},e.prototype.isPerformanceTimingSupported=function(){var t=Ye();return t&&t.timing},e.prototype.isPerformanceTimingDataReady=function(){var t=Ye(),n=t?t.timing:0;return n&&n.domainLookupStart>0&&n.navigationStart>0&&n.responseStart>0&&n.requestStart>0&&n.loadEventEnd>0&&n.responseEnd>0&&n.connectEnd>0&&n.domLoading>0},e.prototype.shouldCollectDuration=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Fe()||{},i=["googlebot","adsbot-google","apis-google","mediapartners-google"],a=r.userAgent,o=!1;if(a)for(var u=0;u<i.length;u++)o=o||-1!==a.toLowerCase().indexOf(i[u]);if(o)return!1;for(u=0;u<t.length;u++)if(t[u]<0||t[u]>=this.MAX_DURATION_ALLOWED)return!1;return!0},e}(),Ro="duration",Si="event";function xn(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var Lo=function(e){function t(){var r,i,a,u,s,n=e.call(this)||this;return n.identifier=ao,n.priority=180,n.autoRoutePVDelay=500,ne(t,n,function(c,f){var g=Ct();u=g&&g.href||"",c.getCookieMgr=function(){return ei(c.core)},c.processTelemetry=function(d,h){Ht(c.core,function(){return c.identifier+":processTelemetry"},function(){var y=!1,A=c._telemetryInitializers.length;h=c._getTelCtx(h);for(var L=0;L<A;++L){var B=c._telemetryInitializers[L];if(B)try{if(!1===B.apply(null,[d])){y=!0;break}}catch(H){h.diagLog().throwInternal(k.CRITICAL,x.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+K(H),{exception:q(H)},!0)}}y||c.processNext(d,h)},function(){return{item:d}},!d.sync)},c.trackEvent=function(d,h){try{var y=Qe.create(d,ze.dataType,ze.envelopeType,c.diagLog(),h);c.core.track(y)}catch(A){c.diagLog().throwInternal(k.WARNING,x.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+K(A),{exception:q(A)})}},c.startTrackEvent=function(d){try{r.start(d)}catch(h){c.diagLog().throwInternal(k.CRITICAL,x.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+K(h),{exception:q(h)})}},c.stopTrackEvent=function(d,h,y){try{r.stop(d,void 0,h)}catch(A){c.diagLog().throwInternal(k.CRITICAL,x.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+K(A),{exception:q(A)})}},c.trackTrace=function(d,h){try{var y=Qe.create(d,ft.dataType,ft.envelopeType,c.diagLog(),h);c.core.track(y)}catch(A){c.diagLog().throwInternal(k.WARNING,x.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+K(A),{exception:q(A)})}},c.trackMetric=function(d,h){try{var y=Qe.create(d,Ze.dataType,Ze.envelopeType,c.diagLog(),h);c.core.track(y)}catch(A){c.diagLog().throwInternal(k.CRITICAL,x.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+K(A),{exception:q(A)})}},c.trackPageView=function(d,h){try{var y=d||{};c._pageViewManager.trackPageView(y,me(me(me({},y.properties),y.measurements),h)),c.config.autoTrackPageVisitTime&&c._pageVisitTimeManager.trackPreviousPageVisit(y.name,y.uri)}catch(A){c.diagLog().throwInternal(k.CRITICAL,x.TrackPVFailed,"trackPageView failed, page view will not be collected: "+K(A),{exception:q(A)})}},c.sendPageViewInternal=function(d,h,y){var A=Ne();A&&(d.refUri=void 0===d.refUri?A.referrer:d.refUri);var L=Qe.create(d,Ve.dataType,Ve.envelopeType,c.diagLog(),h,y);c.core.track(L)},c.sendPageViewPerformanceInternal=function(d,h,y){var A=Qe.create(d,lt.dataType,lt.envelopeType,c.diagLog(),h,y);c.core.track(A)},c.trackPageViewPerformance=function(d,h){try{c._pageViewPerformanceManager.populatePageViewPerformanceEvent(d),c.sendPageViewPerformanceInternal(d,h)}catch(y){c.diagLog().throwInternal(k.CRITICAL,x.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+K(y),{exception:q(y)})}},c.startTrackPage=function(d){try{if("string"!=typeof d){var h=Ne();d=h&&h.title||""}i.start(d)}catch(y){c.diagLog().throwInternal(k.CRITICAL,x.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+K(y),{exception:q(y)})}},c.stopTrackPage=function(d,h,y,A){try{if("string"!=typeof d){var L=Ne();d=L&&L.title||""}if("string"!=typeof h){var B=Ct();h=B&&B.href||""}i.stop(d,h,y,A),c.config.autoTrackPageVisitTime&&c._pageVisitTimeManager.trackPreviousPageVisit(d,h)}catch(H){c.diagLog().throwInternal(k.CRITICAL,x.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+K(H),{exception:q(H)})}},c.sendExceptionInternal=function(d,h,y){var A=d.exception||d.error||new Error(qe),L=new Te(c.diagLog(),A,d.properties||h,d.measurements,d.severityLevel,d.id).toInterface(),B=Qe.create(L,Te.dataType,Te.envelopeType,c.diagLog(),h,y);c.core.track(B)},c.trackException=function(d,h){try{c.sendExceptionInternal(d,h)}catch(y){c.diagLog().throwInternal(k.CRITICAL,x.TrackExceptionFailed,"trackException failed, exception will not be collected: "+K(y),{exception:q(y)})}},c._onerror=function(d){var h=d&&d.error,y=d&&d.evt;try{if(!y){var A=sn();A&&(y=A[Si])}var L=d&&d.url||(Ne()||{}).URL,B=d.errorSrc||"window.onerror@"+L+":"+(d.lineNumber||0)+":"+(d.columnNumber||0),H={errorSrc:B,url:L,lineNumber:d.lineNumber||0,columnNumber:d.columnNumber||0,message:d.message};po(d.message,0,0,0,d.error)?function(d,h){var y=Qe.create(d,Te.dataType,Te.envelopeType,c.diagLog(),h);c.core.track(y)}(Te.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",L,d.lineNumber||0,d.columnNumber||0,h,y,null,B),H):(d.errorSrc||(d.errorSrc=B),c.trackException({exception:d,severityLevel:Cn.Error},H))}catch(W){var F=h?h.name+", "+h.message:"null";c.diagLog().throwInternal(k.CRITICAL,x.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+K(W),{exception:q(W),errorString:F})}},c.addTelemetryInitializer=function(d){c._telemetryInitializers.push(d)},c.initialize=function(d,h,y,A){if(!c.isInitialized()){if(P(h))throw Error("Error initializing");f.initialize(d,h,y,A),c.setInitialized(!1);var L=c._getTelCtx(),B=c.identifier;c.config=L.getExtCfg(B);var H=t.getDefaultConfig(d);void 0!==H&&re(H,function(O,ee){c.config[O]=L.getConfig(B,O,ee),void 0===c.config[O]&&(c.config[O]=ee)}),c.config.isStorageUseDisabled&&So();var F={instrumentationKey:function(){return d.instrumentationKey},accountId:function(){return c.config.accountId||d.accountId},sessionRenewalMs:function(){return c.config.sessionRenewalMs||d.sessionRenewalMs},sessionExpirationMs:function(){return c.config.sessionExpirationMs||d.sessionExpirationMs},sampleRate:function(){return c.config.samplingPercentage||d.samplingPercentage},sdkExtension:function(){return c.config.sdkExtension||d.sdkExtension},isBrowserLinkTrackingEnabled:function(){return c.config.isBrowserLinkTrackingEnabled||d.isBrowserLinkTrackingEnabled},appId:function(){return c.config.appId||d.appId}};c._pageViewPerformanceManager=new ic(c.core),c._pageViewManager=new tc(n,c.config.overridePageViewDuration,c.core,c._pageViewPerformanceManager),c._pageVisitTimeManager=new nc(c.diagLog(),function(O,ee,Q){return function(d,h,y){c.trackMetric({name:"PageVisitTime",average:y,max:y,min:y,sampleCount:1},{PageName:d,PageUrl:h})}(O,ee,Q)}),c._telemetryInitializers=c._telemetryInitializers||[],function(d){if(!d.isBrowserLinkTrackingEnabled()){var h=["/browserLinkSignalR/","/__browserLink/"];!function(d){c._telemetryInitializers.push(d)}(function(L){if(L.baseType===et.dataType){var B=L.baseData;if(B)for(var H=0;H<h.length;H++)if(B.target&&B.target.indexOf(h[H])>=0)return!1}return!0})}}(F),(r=new Fo(c.diagLog(),"trackEvent")).action=function(O,ee,Q,te){te||(te={}),te[Ro]=Q.toString(),c.trackEvent({name:O,properties:te})},(i=new Fo(c.diagLog(),"trackPageView")).action=function(O,ee,Q,te,pe){P(te)&&(te={}),te[Ro]=Q.toString(),c.sendPageViewInternal({name:O,uri:ee,properties:te,measurements:pe},te)};var W=sn(),ae=Boolean(typeof history===Ge&&history)?history:oe("history"),ce=Ct(),we=n;if(!1===c.config.disableExceptionTracking&&!c.config.autoExceptionInstrumented&&W){var Ae=W.onerror;W.onerror=function(O,ee,Q,te,pe){var Nt=W[Si],v=Ae&&Ae(O,ee,Q,te,pe);return!0!==v&&we._onerror(Te.CreateAutoException(O,ee,Q,te,pe,Nt)),v},c.config.autoExceptionInstrumented=!0}if(!1===c.config.disableExceptionTracking&&!0===c.config.enableUnhandledPromiseRejectionTracking&&!c.config.autoUnhandledPromiseInstrumented&&W){var Se="onunhandledrejection",Le=W[Se];W[Se]=function(O){var ee=W[Si],Q=Le&&Le.call(W,O);return!0!==Q&&we._onerror(Te.CreateAutoException(function(e){if(e&&e.reason){var t=e.reason;return!U(t)&&V(t.toString)?t.toString():q(t)}return e||""}(O),ce?ce.href:"",0,0,O,ee)),Q},c.config.autoUnhandledPromiseInstrumented=!0}if(!0===c.config.enableAutoRouteTracking&&ae&&V(ae.pushState)&&V(ae.replaceState)&&W&&"undefined"!=typeof Event){var fe=n;z(y,function(O){O.identifier===mn&&(a=O)}),ae.pushState=(O=ae.pushState,function(){var Q=O.apply(this,arguments);return xn(W,Xt(fe.config.namePrefix+"pushState")),xn(W,Xt(fe.config.namePrefix+"locationchange")),Q}),ae.replaceState=function(O){return function(){var Q=O.apply(this,arguments);return xn(W,Xt(fe.config.namePrefix+"replaceState")),xn(W,Xt(fe.config.namePrefix+"locationchange")),Q}}(ae.replaceState),W.addEventListener&&(W.addEventListener(fe.config.namePrefix+"popstate",function(){xn(W,Xt(fe.config.namePrefix+"locationchange"))}),W.addEventListener(fe.config.namePrefix+"locationchange",function(){if(a&&a.context&&a.context.telemetryTrace){a.context.telemetryTrace.traceID=_e();var O="_unknown_";ce&&ce.pathname&&(O=ce.pathname+(ce.hash||"")),a.context.telemetryTrace.name=ve(fe.diagLog(),O)}s&&(u=s),s=ce&&ce.href||"",setTimeout(function(ee){fe.trackPageView({refUri:ee,properties:{duration:0}})}.bind(n,u),fe.autoRoutePVDelay)}))}c.setInitialized(!0)}var O}}),n}return Z(t,e),t.getDefaultConfig=function(n){return n||(n={}),n.sessionRenewalMs=18e5,n.sessionExpirationMs=864e5,n.disableExceptionTracking=X(n.disableExceptionTracking),n.autoTrackPageVisitTime=X(n.autoTrackPageVisitTime),n.overridePageViewDuration=X(n.overridePageViewDuration),n.enableUnhandledPromiseRejectionTracking=X(n.enableUnhandledPromiseRejectionTracking),(isNaN(n.samplingPercentage)||n.samplingPercentage<=0||n.samplingPercentage>=100)&&(n.samplingPercentage=100),n.isStorageUseDisabled=X(n.isStorageUseDisabled),n.isBrowserLinkTrackingEnabled=X(n.isBrowserLinkTrackingEnabled),n.enableAutoRouteTracking=X(n.enableAutoRouteTracking),n.namePrefix=n.namePrefix||"",n.enableDebug=X(n.enableDebug),n.disableFlushOnBeforeUnload=X(n.disableFlushOnBeforeUnload),n.disableFlushOnUnload=X(n.disableFlushOnUnload,n.disableFlushOnBeforeUnload),n},t.Version="2.7.4",t}(zt),Fo=function(t,n){var r=this,i={};r.start=function(a){void 0!==i[a]&&t.throwInternal(k.WARNING,x.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:a,key:a},!0),i[a]=+new Date},r.stop=function(a,o,u,s){var c=i[a];if(isNaN(c))t.throwInternal(k.WARNING,x.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:a,key:a},!0);else{var g=Ce(c,+new Date);r.action(a,o,g,u,s)}delete i[a],i[a]=void 0}},Mo=function e(t,n){var r=[],i=!1;this._get=function(){return r},this._set=function(a){return r=a},ne(e,this,function(a){a.enqueue=function(o){a.count()>=n.eventsLimitInMem()?i||(t.throwInternal(k.WARNING,x.InMemoryStorageBufferFull,"Maximum in-memory buffer size reached: "+a.count(),!0),i=!0):r.push(o)},a.count=function(){return r.length},a.size=function(){for(var o=r.length,u=0;u<r.length;u++)o+=r[u].length;return n.emitLineDelimitedJson()||(o+=2),o},a.clear=function(){r=[],i=!1},a.getItems=function(){return r.slice(0)},a.batchPayloads=function(o){return o&&o.length>0?n.emitLineDelimitedJson()?o.join("\n"):"["+o.join(",")+"]":null}})},oc=function(e){function t(n,r){var i=e.call(this,n,r)||this;return ne(t,i,function(a,o){a.markAsSent=function(u){o.clear()},a.clearSent=function(u){}}),i}return Z(t,e),t}(Mo),sc=function(e){function t(n,r){var i=e.call(this,n,r)||this,a=!1;return ne(t,i,function(o,u){var s=m(t.BUFFER_KEY),c=m(t.SENT_BUFFER_KEY),f=o._set(s.concat(c));function g(l,S){var d=[];return z(S,function(h){!V(h)&&-1===it(l,h)&&d.push(h)}),d}function m(l){var S=l;try{S=r.namePrefix&&r.namePrefix()?r.namePrefix()+"_"+S:S;var d=or(n,S);if(d){var h=Me().parse(d);if(U(h)&&(h=Me().parse(h)),h&&ye(h))return h}}catch(y){n.throwInternal(k.CRITICAL,x.FailedToRestoreStorageBuffer," storage key: "+S+", "+K(y),{exception:q(y)})}return[]}function C(l,S){var d=l;try{d=r.namePrefix&&r.namePrefix()?r.namePrefix()+"_"+d:d;var h=JSON.stringify(S);sr(n,d,h)}catch(y){sr(n,d,JSON.stringify([])),n.throwInternal(k.WARNING,x.FailedToSetStorageBuffer," storage key: "+d+", "+K(y)+". Buffer cleared",{exception:q(y)})}}f.length>t.MAX_BUFFER_SIZE&&(f.length=t.MAX_BUFFER_SIZE),C(t.SENT_BUFFER_KEY,[]),C(t.BUFFER_KEY,f),o.enqueue=function(l){o.count()>=t.MAX_BUFFER_SIZE?a||(n.throwInternal(k.WARNING,x.SessionStorageBufferFull,"Maximum buffer size reached: "+o.count(),!0),a=!0):(u.enqueue(l),C(t.BUFFER_KEY,o._get()))},o.clear=function(){u.clear(),C(t.BUFFER_KEY,o._get()),C(t.SENT_BUFFER_KEY,[]),a=!1},o.markAsSent=function(l){C(t.BUFFER_KEY,o._set(g(l,o._get())));var S=m(t.SENT_BUFFER_KEY);S instanceof Array&&l instanceof Array&&((S=S.concat(l)).length>t.MAX_BUFFER_SIZE&&(n.throwInternal(k.CRITICAL,x.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+S.length,!0),S.length=t.MAX_BUFFER_SIZE),C(t.SENT_BUFFER_KEY,S))},o.clearSent=function(l){var S=m(t.SENT_BUFFER_KEY);S=g(l,S),C(t.SENT_BUFFER_KEY,S)}}),i}return Z(t,e),t.BUFFER_KEY="AI_buffer",t.SENT_BUFFER_KEY="AI_sentBuffer",t.MAX_BUFFER_SIZE=2e3,t}(Mo);function dt(e){var t="ai."+e+".";return function(n){return t+n}}var bn=dt("application"),se=dt("device"),ur=dt("location"),Jt=dt("operation"),Ti=dt("session"),vt=dt("user"),Et=dt("cloud"),En=dt("internal"),wi=function(e){function t(){return e.call(this)||this}return Z(t,e),t}(function(e){return function(){var n=this;e&&re(e,function(r,i){n[r]=i})}}({applicationVersion:bn("ver"),applicationBuild:bn("build"),applicationTypeId:bn("typeId"),applicationId:bn("applicationId"),applicationLayer:bn("layer"),deviceId:se("id"),deviceIp:se("ip"),deviceLanguage:se("language"),deviceLocale:se("locale"),deviceModel:se("model"),deviceFriendlyName:se("friendlyName"),deviceNetwork:se("network"),deviceNetworkName:se("networkName"),deviceOEMName:se("oemName"),deviceOS:se("os"),deviceOSVersion:se("osVersion"),deviceRoleInstance:se("roleInstance"),deviceRoleName:se("roleName"),deviceScreenResolution:se("screenResolution"),deviceType:se("type"),deviceMachineName:se("machineName"),deviceVMName:se("vmName"),deviceBrowser:se("browser"),deviceBrowserVersion:se("browserVersion"),locationIp:ur("ip"),locationCountry:ur("country"),locationProvince:ur("province"),locationCity:ur("city"),operationId:Jt("id"),operationName:Jt("name"),operationParentId:Jt("parentId"),operationRootId:Jt("rootId"),operationSyntheticSource:Jt("syntheticSource"),operationCorrelationVector:Jt("correlationVector"),sessionId:Ti("id"),sessionIsFirst:Ti("isFirst"),sessionIsNew:Ti("isNew"),userAccountAcquisitionDate:vt("accountAcquisitionDate"),userAccountId:vt("accountId"),userAgent:vt("userAgent"),userId:vt("id"),userStoreRegion:vt("storeRegion"),userAuthUserId:vt("authUserId"),userAnonymousUserAcquisitionDate:vt("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:vt("authUserAcquisitionDate"),cloudName:Et("name"),cloudRole:Et("role"),cloudRoleVer:Et("roleVer"),cloudRoleInstance:Et("roleInstance"),cloudEnvironment:Et("environment"),cloudLocation:Et("location"),cloudDeploymentUnit:Et("deploymentUnit"),internalNodeName:En("nodeName"),internalSdkVersion:En("sdkVersion"),internalAgentVersion:En("agentVersion"),internalSnippet:En("snippet"),internalSdkSrc:En("sdkSrc")})),Ee={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},J=new wi,Uo=function(e){function t(n,r,i){var a=e.call(this)||this;return a.name=ve(n,i)||qe,a.data=r,a.time=rt(new Date),a.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return 100===a.sampleRate?4:1},tags:1,data:1},a}return Z(t,e),t}(function(){this.ver=1,this.sampleRate=100,this.tags={}}),qo=function(){},Bo=function(e){function t(){return e.call(this)||this}return Z(t,e),t}(qo),pt=function(e){function t(n,r){var i=e.call(this)||this;return i.aiDataContract={baseType:1,baseData:1},i.baseType=n,i.baseData=r,i}return Z(t,e),t}(Bo),xi="baseType",$="baseData",ue="properties";function ie(e,t,n){return j(e,t,n,Ur)}function gt(e,t,n){P(e)||re(e,function(r,i){Fr(i)?n[r]=i:U(i)?t[r]=i:Bt()&&(t[r]=Me().stringify(i))})}function Pt(e,t){P(e)||re(e,function(n,r){e[n]=r||t})}function kt(e,t,n,r){var i=new Uo(e,r,t);ie(i,"sampleRate",n[si]),(n[$]||{}).startTime&&(i.time=rt(n[$].startTime)),i.iKey=n.iKey;var a=n.iKey.replace(/-/g,"");return i.name=i.name.replace("{0}",a),function(e,t,n){var r=n.tags=n.tags||{},i=t.ext=t.ext||{},a=t.tags=t.tags||[],o=i.user;o&&(ie(r,J.userAuthUserId,o.authId),ie(r,J.userId,o.id||o.localId));var u=i.app;u&&ie(r,J.sessionId,u.sesId);var s=i.device;s&&(ie(r,J.deviceId,s.id||s.localId),ie(r,J.deviceType,s.deviceClass),ie(r,J.deviceIp,s.ip),ie(r,J.deviceModel,s.model),ie(r,J.deviceType,s.deviceType));var c=t.ext.web;if(c){ie(r,J.deviceLanguage,c.browserLang),ie(r,J.deviceBrowserVersion,c.browserVer),ie(r,J.deviceBrowser,c.browser);var f=n.data=n.data||{},g=f[$]=f[$]||{},m=g[ue]=g[ue]||{};ie(m,"domain",c.domain),ie(m,"isManual",c.isManual?"true":null),ie(m,"screenRes",c.screenRes),ie(m,"userConsent",c.userConsent?"true":null)}var C=i.os;C&&ie(r,J.deviceOS,C.name);var l=i.trace;l&&(ie(r,J.operationParentId,l.parentID),ie(r,J.operationName,ve(e,l.name)),ie(r,J.operationId,l.traceID));for(var S={},d=a.length-1;d>=0;d--)re(a[d],function(A,L){S[A]=L}),a.splice(d,1);re(a,function(A,L){S[A]=L});var y=me(me({},r),S);y[J.internalSdkVersion]||(y[J.internalSdkVersion]="javascript:".concat(fc.Version)),n.tags=va(y)}(e,n,i),n.tags=n.tags||[],va(i)}function At(e,t){P(t[$])&&e.throwInternal(k.CRITICAL,x.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.")}var fc={Version:"2.7.4"};function Ho(e,t,n){At(e,t);var r={},i={};t[xi]!==ze.dataType&&(r.baseTypeSource=t[xi]),t[xi]===ze.dataType?(r=t[$][ue]||{},i=t[$].measurements||{}):t[$]&&gt(t[$],r,i),gt(t.data,r,i),P(n)||Pt(r,n);var o=new ze(e,t[$].name,r,i),u=new pt(ze.dataType,o);return kt(e,ze.envelopeType,t,u)}var tt,mc=function e(t){ne(e,this,function(n){function r(o,u){var s="__aiCircularRefCheck",c={};if(!o)return t.throwInternal(k.CRITICAL,x.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:u},!0),c;if(o[s])return t.throwInternal(k.WARNING,x.CircularReferenceDetected,"Circular reference detected while serializing object",{name:u},!0),c;if(!o.aiDataContract){if("measurements"===u)c=a(o,"number",u);else if("properties"===u)c=a(o,"string",u);else if("tags"===u)c=a(o,"string",u);else if(ye(o))c=i(o,u);else{t.throwInternal(k.WARNING,x.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:u},!0);try{Me().stringify(o),c=o}catch(f){t.throwInternal(k.CRITICAL,x.CannotSerializeObject,f&&V(f.toString)?f.toString():"Error serializing object",null,!0)}}return c}return o[s]=!0,re(o.aiDataContract,function(f,g){var m=V(g)?1&g():1&g,C=V(g)?4&g():4&g,l=2&g,S=void 0!==o[f],d=Xe(o[f])&&null!==o[f];if(!m||S||l){if(!C){var h;void 0!==(h=d?l?i(o[f],f):r(o[f],f):o[f])&&(c[f]=h)}}else t.throwInternal(k.CRITICAL,x.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:f,name:u})}),delete o[s],c}function i(o,u){var s;if(o)if(ye(o)){s=[];for(var c=0;c<o.length;c++){var g=r(o[c],u+"["+c+"]");s.push(g)}}else t.throwInternal(k.CRITICAL,x.ItemNotInArray,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:u},!0);return s}function a(o,u,s){var c;return o&&(c={},re(o,function(f,g){if("string"===u)c[f]=void 0===g?"undefined":null===g?"null":g.toString?g.toString():"invalid field: toString() is not defined.";else if("number"===u)if(void 0===g)c[f]="undefined";else if(null===g)c[f]="null";else{var m=parseFloat(g);c[f]=isNaN(m)?"NaN":m}else c[f]="invalid field: "+s+" is of unknown type.",t.throwInternal(k.CRITICAL,c[f],null,!0)})),c}n.serialize=function(o){var u=r(o,"root");try{return Me().stringify(u)}catch(s){t.throwInternal(k.CRITICAL,x.CannotSerializeObject,s&&V(s.toString)?s.toString():"Error serializing object",null,!0)}}})},yc=function(){function e(){var t=sn(),n=Ne(),r=!1,i=!0;ne(e,this,function(a){try{if(t&&Je(t,"online",s)&&(Je(t,"offline",c),r=!0),n){var o=n.body||n;le(o.ononline)||(o.ononline=s,o.onoffline=c,r=!0)}if(r){var u=Fe();u&&!P(u.onLine)&&(i=u.onLine)}}catch(f){r=!1}function s(){i=!0}function c(){i=!1}a.isListening=r,a.isOnline=function(){var f=!0,g=Fe();return r?f=i:g&&!P(g.onLine)&&(f=g.onLine),f},a.isOffline=function(){return!a.isOnline()}})}return e.Offline=new e,e}(),_o=yc.Offline,Cc=function(){function e(){}return e.prototype.getHashCodeScore=function(t){return this.getHashCode(t)/e.INT_MAX_VALUE*100},e.prototype.getHashCode=function(t){if(""===t)return 0;for(;t.length<8;)t=t.concat(t);for(var n=5381,r=0;r<t.length;++r)n=(n<<5)+n+t.charCodeAt(r),n&=n;return Math.abs(n)},e.INT_MAX_VALUE=2147483647,e}(),Sc=function(){var n=new Cc,r=new wi;this.getSamplingScore=function(i){return i.tags&&i.tags[r.userId]?n.getHashCodeScore(i.tags[r.userId]):i.ext&&i.ext.user&&i.ext.user.id?n.getHashCodeScore(i.ext.user.id):i.tags&&i.tags[r.operationId]?n.getHashCodeScore(i.tags[r.operationId]):i.ext&&i.ext.telemetryTrace&&i.ext.telemetryTrace.traceID?n.getHashCodeScore(i.ext.telemetryTrace.traceID):100*Math.random()}},Tc=function(){function e(t,n){this.INT_MAX_VALUE=2147483647;var r=n||Qn(null);(t>100||t<0)&&(r.throwInternal(k.WARNING,x.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:t},!0),t=100),this.sampleRate=t,this.samplingScoreGenerator=new Sc}return e.prototype.isSampledIn=function(t){var n=this.sampleRate;return null==n||n>=100||t.baseType===Ze.dataType||this.samplingScoreGenerator.getSamplingScore(t)<n},e}();function cr(e){try{return e.responseText}catch(t){}return null}var xc=((tt={})[ze.dataType]=Ho,tt[ft.dataType]=function(e,t,n){At(e,t);var r=t[$].message,i=t[$].severityLevel,a=t[$][ue]||{},o=t[$].measurements||{};gt(t.data,a,o),P(n)||Pt(a,n);var u=new ft(e,r,i,a,o),s=new pt(ft.dataType,u);return kt(e,ft.envelopeType,t,s)},tt[Ve.dataType]=function(e,t,n){At(e,t);var i,r="duration",a=t[$];P(a)||P(a[ue])||P(a[ue][r])?!P(t.data)&&!P(t.data[r])&&(i=t.data[r],delete t.data[r]):(i=a[ue][r],delete a[ue][r]);var u,o=t[$];((t.ext||{}).trace||{}).traceID&&(u=t.ext.trace.traceID);var s=o.id||u,c=o.name,f=o.uri,g=o[ue]||{},m=o.measurements||{};P(o.refUri)||(g.refUri=o.refUri),P(o.pageType)||(g.pageType=o.pageType),P(o.isLoggedIn)||(g.isLoggedIn=o.isLoggedIn.toString()),P(o[ue])||re(o[ue],function(d,h){g[d]=h}),gt(t.data,g,m),P(n)||Pt(g,n);var l=new Ve(e,c,f,i,g,m,s),S=new pt(Ve.dataType,l);return kt(e,Ve.envelopeType,t,S)},tt[lt.dataType]=function(e,t,n){At(e,t);var r=t[$],i=r.name,a=r.uri||r.url,o=r[ue]||{},u=r.measurements||{};gt(t.data,o,u),P(n)||Pt(o,n);var s=new lt(e,i,a,void 0,o,u,r),c=new pt(lt.dataType,s);return kt(e,lt.envelopeType,t,c)},tt[Te.dataType]=function(e,t,n){At(e,t);var r=t[$].measurements||{},i=t[$][ue]||{};gt(t.data,i,r),P(n)||Pt(i,n);var o=Te.CreateFromInterface(e,t[$],i,r),u=new pt(Te.dataType,o);return kt(e,Te.envelopeType,t,u)},tt[Ze.dataType]=function(e,t,n){At(e,t);var r=t[$],i=r[ue]||{},a=r.measurements||{};gt(t.data,i,a),P(n)||Pt(i,n);var o=new Ze(e,r.name,r.average,r.sampleCount,r.min,r.max,r.stdDev,i,a),u=new pt(Ze.dataType,o);return kt(e,Ze.envelopeType,t,u)},tt[et.dataType]=function(e,t,n){At(e,t);var r=t[$].measurements||{},i=t[$][ue]||{};gt(t.data,i,r),P(n)||Pt(i,n);var a=t[$];if(P(a))return e.warnToConsole("Invalid input for dependency data"),null;var u=new et(e,a.id,a.target,a.name,a.duration,a.success,a.responseCode,a[ue]&&a[ue][ui]?a[ue][ui]:"GET",a.type,a.correlationContext,i,r),s=new pt(et.dataType,u);return kt(e,et.envelopeType,t,s)},tt),Vo=function(e){function t(){var n=e.call(this)||this;n.priority=1001,n.identifier=ri;var r,i,u,s,c,m,C,o=!1,f={},g=0;return n._senderConfig={endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},disableXhr:function(){return!1},onunloadDisableFetch:function(){return!1},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){},convertUndefined:function(){},eventsLimitInMem:function(){return 1e4}},ne(t,n,function(l,S){function y(v,E,R,p,I,T){var w=null;if(l._appId||(w=we(T))&&w.appId&&(l._appId=w.appId),(v<200||v>=300)&&0!==v){if((301===v||307===v||308===v)&&!A(R))return void l._onError(E,I);!l._senderConfig.isRetryDisabled()&&fe(v)?(je(E),l.diagLog().throwInternal(k.WARNING,x.TransmissionFailed,". Response code "+v+". Will retry to send "+E.length+" items.")):l._onError(E,I)}else _o.isOffline()?l._senderConfig.isRetryDisabled()||(je(E,10),l.diagLog().throwInternal(k.WARNING,x.TransmissionFailed,". Offline - Response Code: ".concat(v,". Offline status: ").concat(_o.isOffline(),". Will retry to send ").concat(E.length," items."))):(A(R),206===v?(w||(w=we(T)),w&&!l._senderConfig.isRetryDisabled()?l._onPartialSuccess(E,w):l._onError(E,I)):(r=0,l._onSuccess(E,p)))}function A(v){return!(c>=10||P(v)||""===v||v===l._senderConfig.endpointUrl()||(l._senderConfig.endpointUrl=function(){return v},++c,0))}function L(v,E){C?C(v,!1):H(v)}function B(v){var E=Fe(),R=l._buffer,p=l._senderConfig.endpointUrl(),I=l._buffer.batchPayloads(v),T=new Blob([I],{type:"text/plain;charset=UTF-8"}),w=E.sendBeacon(p,T);return w&&(R.markAsSent(v),l._onSuccess(v,v.length)),w}function H(v,E){if(ye(v)&&v.length>0&&!B(v)){for(var R=[],p=0;p<v.length;p++){var I=v[p];B([I])||R.push(I)}R.length>0&&(m(R,!0),l.diagLog().throwInternal(k.WARNING,x.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function F(v,E){var R=new XMLHttpRequest,p=l._senderConfig.endpointUrl();try{R[ct]=!0}catch(T){}R.open("POST",p,E),R.setRequestHeader("Content-type","application/json"),Tn(p)&&R.setRequestHeader(Y.sdkContextHeader,Y.sdkContextHeaderAppIdRequest),z(It(f),function(T){R.setRequestHeader(T,f[T])}),R.onreadystatechange=function(){return l._xhrReadyStateChange(R,v,v.length)},R.onerror=function(T){return l._onError(v,O(R),T)};var I=l._buffer.batchPayloads(v);R.send(I),l._buffer.markAsSent(v)}function W(v,E){if(ye(v)){for(var R=v.length,p=0;p<v.length;p++)R+=v[p].length;g+R<=65e3?ce(v,!1):un()?H(v):(m&&m(v,!0),l.diagLog().throwInternal(k.WARNING,x.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function ae(v,E){ce(v,!0)}function ce(v,E){var R,p=l._senderConfig.endpointUrl(),I=l._buffer.batchPayloads(v),T=new Blob([I],{type:"application/json"}),w=new Headers,b=I.length,N=!1,D=!1;Tn(p)&&w.append(Y.sdkContextHeader,Y.sdkContextHeaderAppIdRequest),z(It(f),function(_){w.append(_,f[_])});var M=((R={method:"POST",headers:w,body:T})[ct]=!0,R);E||(M.keepalive=!0,N=!0,g+=b);var G=new Request(p,M);try{G[ct]=!0}catch(_){}l._buffer.markAsSent(v);try{fetch(G).then(function(_){E||(g-=b,b=0),D||(D=!0,_.ok?_.text().then(function(xe){y(_.status,v,_.url,v.length,_.statusText,xe)}):l._onError(v,_.statusText))}).catch(function(_){E||(g-=b,b=0),D||(D=!0,l._onError(v,_.message))})}catch(_){D||l._onError(v,q(_))}N&&!D&&(D=!0,l._onSuccess(v,v.length))}function we(v){try{if(v&&""!==v){var E=Me().parse(v);if(E&&E.itemsReceived&&E.itemsReceived>=E.itemsAccepted&&E.itemsReceived-E.itemsAccepted===E.errors.length)return E}}catch(R){l.diagLog().throwInternal(k.CRITICAL,x.InvalidBackendResponse,"Cannot parse the response. "+K(R),{response:v})}return null}function je(v,E){if(void 0===E&&(E=1),v&&0!==v.length){var R=l._buffer;R.clearSent(v),r++;for(var p=0,I=v;p<I.length;p++)R.enqueue(I[p]);(function(v){var R;if(r<=1)R=10;else{var p=(Math.pow(2,r)-1)/2,I=Math.floor(Math.random()*p*10)+1;R=Math.max(Math.min(I*=v,3600),10)}var T=De()+1e3*R;i=T})(E),Se()}}function Se(){if(!u&&!o){var v=i?Math.max(0,i-De()):0,E=Math.max(l._senderConfig.maxBatchInterval(),v);u=setTimeout(function(){u=null,l.triggerSend(!0,null,1)},E)}}function Le(){clearTimeout(u),u=null,i=null}function fe(v){return 408===v||429===v||500===v||503===v}function O(v,E){return v?"XMLHttpRequest,Status:"+v.status+",Response:"+cr(v)||0:E}function ee(v,E){var R=l._buffer,p=sn(),I=new XDomainRequest;I.onload=function(){return l._xdrOnLoad(I,v)},I.onerror=function(N){return l._onError(v,Q(I),N)};var T=p&&p.location&&p.location.protocol||"";if(0!==l._senderConfig.endpointUrl().lastIndexOf(T,0))return l.diagLog().throwInternal(k.WARNING,x.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void R.clear();var w=l._senderConfig.endpointUrl().replace(/^(https?:)/,"");I.open("POST",w);var b=R.batchPayloads(v);I.send(b),R.markAsSent(v)}function Q(v,E){return v?"XDomainRequest,Response:"+cr(v)||0:E}l.pause=function(){Le(),o=!0},l.resume=function(){o&&(o=!1,i=null,l._buffer.size()>l._senderConfig.maxBatchSizeInBytes()&&l.triggerSend(!0,null,10),Se())},l.flush=function(){if(!o){Le();try{l.triggerSend(!0,null,1)}catch(v){l.diagLog().throwInternal(k.CRITICAL,x.FlushFailed,"flush failed, telemetry will not be collected: "+K(v),{exception:q(v)})}}},l.onunloadFlush=function(){if(!o)if(!1!==l._senderConfig.onunloadDisableBeacon()&&!1!==l._senderConfig.isBeaconApiDisabled()||!un())l.flush();else try{l.triggerSend(!0,L,2)}catch(v){l.diagLog().throwInternal(k.CRITICAL,x.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+K(v),{exception:q(v)})}},l.teardown=function(){He("Method not implemented.")},l.addHeader=function(v,E){f[v]=E},l.initialize=function(v,E,R,p){S.initialize(v,E,R,p);var I=l._getTelCtx(),T=l.identifier;s=new mc(E.logger),r=0,i=null,l._sender=null,c=0;var w=l.diagLog();re({endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},disableXhr:function(){return!1},onunloadDisableFetch:function(){return!1},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){},convertUndefined:function(){},eventsLimitInMem:function(){return 1e4}},function(M,G){l._senderConfig[M]=function(){return I.getConfig(T,M,G())}}),l._buffer=l._senderConfig.enableSessionStorageBuffer()&&Kt()?new sc(w,l._senderConfig):new oc(w,l._senderConfig),l._sample=new Tc(l._senderConfig.samplingPercentage(),w),function(v){return!(P(v.disableInstrumentationKeyValidation)||!v.disableInstrumentationKeyValidation)||new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(v.instrumentationKey)}(v)||w.throwInternal(k.CRITICAL,x.InvalidInstrumentationKey,"Invalid Instrumentation key "+v.instrumentationKey),!Tn(l._senderConfig.endpointUrl())&&l._senderConfig.customHeaders()&&l._senderConfig.customHeaders().length>0&&z(l._senderConfig.customHeaders(),function(M){n.addHeader(M.header,M.value)});var N=l._senderConfig,D=null;!N.disableXhr()&&Sa()?D=ee:!N.disableXhr()&&Xn()&&(D=F),!D&&Ca()&&(D=ae),m=D||F,!N.isBeaconApiDisabled()&&un()&&(D=H),l._sender=D||F,C=!N.onunloadDisableFetch()&&Ca(!0)?W:un()?H:!N.disableXhr()&&Sa()?ee:!N.disableXhr()&&Xn()?F:m},l.processTelemetry=function(v,E){E=l._getTelCtx(E);try{if(l._senderConfig.disableTelemetry())return;if(!v)return void E.diagLog().throwInternal(k.CRITICAL,x.CannotSendEmptyTelemetry,"Cannot send empty telemetry");if(v.baseData&&!v.baseType)return void E.diagLog().throwInternal(k.CRITICAL,x.InvalidEvent,"Cannot send telemetry without baseData and baseType");if(v.baseType||(v.baseType="EventData"),!l._sender)return void E.diagLog().throwInternal(k.CRITICAL,x.SenderNotInitialized,"Sender was not initialized");if(!function(v){return l._sample.isSampledIn(v)}(v))return void E.diagLog().throwInternal(k.WARNING,x.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:l._sample.sampleRate});v[si]=l._sample.sampleRate;var R=l._senderConfig.convertUndefined()||void 0,p=v.iKey||l._senderConfig.instrumentationKey(),I=t.constructEnvelope(v,p,E.diagLog(),R);if(!I)return void E.diagLog().throwInternal(k.CRITICAL,x.CreateEnvelopeError,"Unable to create an AppInsights envelope");var T=!1;if(v.tags&&v.tags[In]&&(z(v.tags[In],function(D){try{D&&!1===D(I)&&(T=!0,E.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(M){E.diagLog().throwInternal(k.CRITICAL,x.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+K(M),{exception:q(M)},!0)}}),delete v.tags[In]),T)return;var w=s.serialize(I),b=l._buffer;b.size()+w.length>l._senderConfig.maxBatchSizeInBytes()&&l.triggerSend(!0,null,10),b.enqueue(w),Se()}catch(D){E.diagLog().throwInternal(k.WARNING,x.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+K(D),{exception:q(D)})}l.processNext(v,E)},l._xhrReadyStateChange=function(v,E,R){4===v.readyState&&y(v.status,E,v.responseURL,R,O(v),cr(v)||v.response)},l.triggerSend=function(v,E,R){if(void 0===v&&(v=!0),!o)try{var p=l._buffer;if(l._senderConfig.disableTelemetry())p.clear();else{if(p.count()>0){var I=p.getItems();(function(v,E){var R=function(){var v="getNotifyMgr";return l.core[v]?l.core[v]():l.core._notificationManager}();if(R&&R.eventsSendRequest)try{R.eventsSendRequest(v,E)}catch(p){l.diagLog().throwInternal(k.CRITICAL,x.NotificationException,"send request notification failed: "+K(p),{exception:q(p)})}})(R||0,v),E?E.call(n,I,v):l._sender(I,v)}new Date}Le()}catch(w){var T=zr();(!T||T>9)&&l.diagLog().throwInternal(k.CRITICAL,x.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+K(w),{exception:q(w)})}},l._onError=function(v,E,R){l.diagLog().throwInternal(k.WARNING,x.OnError,"Failed to send telemetry.",{message:E}),l._buffer.clearSent(v)},l._onPartialSuccess=function(v,E){for(var R=[],p=[],T=0,w=E.errors.reverse();T<w.length;T++){var b=w[T],N=v.splice(b.index,1)[0];fe(b.statusCode)?p.push(N):R.push(N)}v.length>0&&l._onSuccess(v,E.itemsAccepted),R.length>0&&l._onError(R,O(null,["partial success",E.itemsAccepted,"of",E.itemsReceived].join(" "))),p.length>0&&(je(p),l.diagLog().throwInternal(k.WARNING,x.TransmissionFailed,"Partial success. Delivered: "+v.length+", Failed: "+R.length+". Will retry to send "+p.length+" our of "+E.itemsReceived+" items"))},l._onSuccess=function(v,E){l._buffer.clearSent(v)},l._xdrOnLoad=function(v,E){var R=cr(v);if(!v||R+""!="200"&&""!==R){var p=we(R);p&&p.itemsReceived&&p.itemsReceived>p.itemsAccepted&&!l._senderConfig.isRetryDisabled()?l._onPartialSuccess(E,p):l._onError(E,Q(v))}else r=0,l._onSuccess(E,0)}}),n}return Z(t,e),t.constructEnvelope=function(n,r,i,a){var o;return o=r===n.iKey||P(r)?n:me(me({},n),{iKey:r}),(xc[o.baseType]||Ho)(i,o,a)},t}(zt),jo=function(){},Ec=function(){function e(t,n){var i,a,o=Qn(n),u=ei(n);ne(e,this,function(s){t||(t={}),V(t.sessionExpirationMs)||(t.sessionExpirationMs=function(){return e.acquisitionSpan}),V(t.sessionRenewalMs)||(t.sessionRenewalMs=function(){return e.renewalSpan}),s.config=t;var c=s.config.sessionCookiePostfix&&s.config.sessionCookiePostfix()?s.config.sessionCookiePostfix():s.config.namePrefix&&s.config.namePrefix()?s.config.namePrefix():"";function g(S,d){var h=!1,y=", session will be reset",A=d.split("|");if(A.length>=2)try{var L=+A[1]||0,B=+A[2]||0;isNaN(L)||L<=0?o.throwInternal(k.WARNING,x.SessionRenewalDateIsZero,"AI session acquisition date is 0"+y):isNaN(B)||B<=0?o.throwInternal(k.WARNING,x.SessionRenewalDateIsZero,"AI session renewal date is 0"+y):A[0]&&(S.id=A[0],S.acquisitionDate=L,S.renewalDate=B,h=!0)}catch(H){o.throwInternal(k.CRITICAL,x.ErrorParsingAISessionCookie,"Error parsing ai_session value ["+(d||"")+"]"+y+" - "+K(H),{exception:q(H)})}return h}function C(S,d){var h=S.acquisitionDate;S.renewalDate=d;var H,y=s.config,A=y.sessionRenewalMs(),L=h+y.sessionExpirationMs()-d,B=[S.id,h,d];H=L<A?L/1e3:A/1e3;var F=y.cookieDomain?y.cookieDomain():null;u.set(i(),B.join("|"),y.sessionExpirationMs()>0?H:null,F),a=d}i=function(){return"ai_session"+c},s.automaticSession=new jo,s.update=function(){var S=De(),d=!1,h=s.automaticSession;h.id||(d=!function(S,d){var h=!1,y=u.get(i());if(y&&V(y.split))h=g(S,y);else{var A=To(o,i());A&&(h=g(S,A))}return h||!!S.id}(h));var y=s.config.sessionExpirationMs();if(!d&&y>0){var A=s.config.sessionRenewalMs(),L=S-h.acquisitionDate,B=S-h.renewalDate;d=(d=(d=L<0||B<0)||L>y)||B>A}d?function(S){var d=s.config||{},h=(d.getNewId?d.getNewId():null)||rr;s.automaticSession.id=h(d.idLength?d.idLength():22),s.automaticSession.acquisitionDate=S,C(s.automaticSession,S),Ii()||o.throwInternal(k.WARNING,x.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}(S):(!a||S-a>e.cookieUpdateInterval)&&C(h,S)},s.backup=function(){var S=s.automaticSession;!function(S,d,h){wo(o,i(),[S,d,h].join("|"))}(S.id,S.acquisitionDate,S.renewalDate)}})}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}(),Pc=function(){},kc=function(){this.id="browser",this.deviceClass="Browser"},Dc=function(t){this.sdkVersion=(t.sdkExtension&&t.sdkExtension()?t.sdkExtension()+"_":"")+"javascript:2.7.4"};function Go(e){return!("string"!=typeof e||!e||e.match(/,|;|=| |\|/))}var Nc=function(){function e(t,n){this.isNewUser=!1,this.isUserCookieSet=!1;var a,r=Qn(n),i=ei(n);ne(e,this,function(o){o.config=t;var u=o.config.userCookiePostfix&&o.config.userCookiePostfix()?o.config.userCookiePostfix():"",s=i.get((a=function(){return e.userCookieName+u})());if(s){o.isNewUser=!1;var c=s.split(e.cookieSeparator);c.length>0&&(o.id=c[0],o.isUserCookieSet=!!o.id)}function f(){var h=t||{};return((h.getNewId?h.getNewId():null)||rr)(h.idLength?t.idLength():22)}function g(h){var y=rt(new Date);return o.accountAcquisitionDate=y,o.isNewUser=!0,[h,y]}function m(h){o.isUserCookieSet=i.set(a(),h,31536e3)}if(!o.id){o.id=f(),m(g(o.id).join(e.cookieSeparator));var l=t.namePrefix&&t.namePrefix()?t.namePrefix()+"ai_session":"ai_session";xo(r,l)}o.accountId=t.accountId?t.accountId():void 0;var S=i.get(e.authUserCookieName);if(S){var d=(S=decodeURI(S)).split(e.cookieSeparator);d[0]&&(o.authenticatedId=d[0]),d.length>1&&d[1]&&(o.accountId=d[1])}o.setAuthenticatedUserContext=function(h,y,A){if(void 0===A&&(A=!1),!Go(h)||y&&!Go(y))r.throwInternal(k.WARNING,x.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);else{o.authenticatedId=h;var B=o.authenticatedId;y&&(o.accountId=y,B=[o.authenticatedId,o.accountId].join(e.cookieSeparator)),A&&i.set(e.authUserCookieName,encodeURI(B))}},o.clearAuthenticatedUserContext=function(){o.authenticatedId=null,o.accountId=null,i.del(e.authUserCookieName)},o.update=function(h){o.id===h&&o.isUserCookieSet||m(g(h||f()).join(e.cookieSeparator))}})}return e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}(),Rc=function(){},Lc=function(t,n,r,i){var a=this;a.traceID=t||_e(),a.parentID=n,a.name=r;var o=Ct();!r&&o&&o.pathname&&(a.name=o.pathname),a.name=ve(i,a.name)},fr="ext",lr="tags";function Yt(e,t){e&&e[t]&&0===It(e[t]).length&&delete e[t]}var Fc=function e(t,n){var r=this,i=t.logger;this.appId=function(){return null},this.getSessionId=function(){return null},ne(e,this,function(a){a.application=new Pc,a.internal=new Dc(n),Wn()&&(a.sessionManager=new Ec(n,t),a.device=new kc,a.location=new Rc,a.user=new Nc(n,t),a.telemetryTrace=new Lc(void 0,void 0,void 0,i),a.session=new jo),a.getSessionId=function(){var o=a.session,u=null;if(o&&U(o.id))u=o.id;else{var s=(a.sessionManager||{}).automaticSession;u=s&&U(s.id)?s.id:null}return u},a.applySessionContext=function(o,u){j(Ie(o.ext,Ee.AppExt),"sesId",a.getSessionId(),U)},a.applyOperatingSystemContxt=function(o,u){j(o.ext,Ee.OSExt,a.os)},a.applyApplicationContext=function(o,u){var s=a.application;if(s){var c=Ie(o,lr);j(c,J.applicationVersion,s.ver,U),j(c,J.applicationBuild,s.build,U)}},a.applyDeviceContext=function(o,u){var s=a.device;if(s){var c=Ie(Ie(o,fr),Ee.DeviceExt);j(c,"localId",s.id,U),j(c,"ip",s.ip,U),j(c,"model",s.model,U),j(c,"deviceClass",s.deviceClass,U)}},a.applyInternalContext=function(o,u){var s=a.internal;if(s){var c=Ie(o,lr);j(c,J.internalAgentVersion,s.agentVersion,U),j(c,J.internalSdkVersion,s.sdkVersion,U),(o.baseType===cn.dataType||o.baseType===Ve.dataType)&&(j(c,J.internalSnippet,s.snippetVer,U),j(c,J.internalSdkSrc,s.sdkSrc,U))}},a.applyLocationContext=function(o,u){var s=r.location;s&&j(Ie(o,lr,[]),J.locationIp,s.ip,U)},a.applyOperationContext=function(o,u){var s=a.telemetryTrace;if(s){var c=Ie(Ie(o,fr),Ee.TraceExt,{traceID:void 0,parentID:void 0});j(c,"traceID",s.traceID,U),j(c,"name",s.name,U),j(c,"parentID",s.parentID,U)}},a.applyWebContext=function(o,u){var s=r.web;s&&j(Ie(o,fr),Ee.WebExt,s)},a.applyUserContext=function(o,u){var s=a.user;if(s){j(Ie(o,lr,[]),J.userAccountId,s.accountId,U);var f=Ie(Ie(o,fr),Ee.UserExt);j(f,"id",s.id,U),j(f,"authId",s.authenticatedId,U)}},a.cleanUp=function(o,u){var s=o.ext;s&&(Yt(s,Ee.DeviceExt),Yt(s,Ee.UserExt),Yt(s,Ee.WebExt),Yt(s,Ee.OSExt),Yt(s,Ee.AppExt),Yt(s,Ee.TraceExt))}})},Mc=function(e){function t(){var r,i,n=e.call(this)||this;return n.priority=110,n.identifier=mn,ne(t,n,function(a,o){a.initialize=function(s,c,f,g){o.initialize(s,c,f,g);var m=a._getTelCtx(),C=a.identifier,l=t.getDefaultConfig();i=i||{},re(l,function(S,d){i[S]=function(){return m.getConfig(C,S,d())}}),a.context=new Fc(c,i),r=vo(f,ri),a.context.appId=function(){return r?r._appId:null},a._extConfig=i},a.processTelemetry=function(s,c){if(!P(s)){c=a._getTelCtx(c),s.name===Ve.envelopeType&&c.diagLog().resetInternalMessageCount();var f=a.context||{};f.session&&"string"!=typeof a.context.session.id&&f.sessionManager&&f.sessionManager.update();var g=f.user;if(g&&!g.isUserCookieSet&&g.update(f.user.id),function(s,c){Ie(s,"tags",[]),Ie(s,"ext",{});var f=a.context;f.applySessionContext(s,c),f.applyApplicationContext(s,c),f.applyDeviceContext(s,c),f.applyOperationContext(s,c),f.applyUserContext(s,c),f.applyOperatingSystemContxt(s,c),f.applyWebContext(s,c),f.applyLocationContext(s,c),f.applyInternalContext(s,c),f.cleanUp(s,c)}(s,c),g&&g.isNewUser){g.isNewUser=!1;var m=new cn(x.SendBrowserInfoOnUserInit,(Fe()||{}).userAgent||"");c.diagLog().logInternalMessage(k.CRITICAL,m)}a.processNext(s,c)}}}),n}return Z(t,e),t.getDefaultConfig=function(){return{instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},getSessionId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}}},t}(zt),Wo=Mc,Ko="_aiHooks",Xo=["req","rsp","hkErr","fnErr"];function dr(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function bi(e,t,n,r,i){i>=0&&i<=2&&dr(e,function(a,o){var u=a.cbks,s=u[Xo[i]];if(s){t.ctx=function(){return r[o]=r[o]||{}};try{s.apply(t.inst,n)}catch(g){var c=t.err;try{var f=u[Xo[2]];f&&(t.err=g,f.apply(t.inst,n))}catch(m){}finally{t.err=c}}}})}function Jo(e,t,n){var r=null;return e&&(Lr(e,t)?r=e:n&&(r=Jo(function(e){if(e){if(Vn)return Vn(e);var t=e.__proto__||e[he]||e.constructor;if(t)return t}return null}(e),t,!1))),r}function vr(e,t,n,r){if(void 0===r&&(r=!0),e&&t&&n){var i=Jo(e,t,r);if(i){var a=i[t];if(typeof a===$t){var o=a[Ko];if(!o){var u=function(e){return function(){var t=this,n=arguments,r=e.h,i={name:e.n,inst:t,ctx:null,set:s},a=[],o=u([i],n);function u(f,g){return dr(g,function(m){f.push(m)}),f}function s(f,g){(n=u([],n))[f]=g,o=u([i],n)}bi(r,i,o,a,0);var c=e.f;try{i.rslt=c.apply(t,n)}catch(f){throw i.err=f,bi(r,i,o,a,3),f}return bi(r,i,o,a,1),i.rslt}}(o={i:0,n:t,f:a,h:[]});u[Ko]=o,i[t]=u}var s={id:o.i,cbks:n,rm:function(){var f=this.id;dr(o.h,function(g,m){if(g.id===f)return o.h.splice(m,1),1})}};return o.i++,o.h.push(s),s}}}return null}var Pe="properties";function Yo(e,t,n){var r=0,i=e[t],a=e[n];return i&&a&&(r=Ce(i,a)),r}function Dt(e,t,n,r,i){var a=0,o=Yo(n,r,i);return o&&(a=ht(e,t,$e(o))),a}function ht(e,t,n){var r="ajaxPerf",i=0;return e&&t&&n&&((e[r]=e[r]||{})[t]=n,i=1),i}var Hc=function(){var t=this;t.openDone=!1,t.setRequestHeaderDone=!1,t.sendDone=!1,t.abortDone=!1,t.stateChangeAttached=!1},Qo=function e(t,n,r){var i=this,a=r,o="responseText";i.perfMark=null,i.completed=!1,i.requestHeadersSize=null,i.requestHeaders=null,i.responseReceivingDuration=null,i.callbackDuration=null,i.ajaxTotalDuration=null,i.aborted=0,i.pageUrl=null,i.requestUrl=null,i.requestSize=0,i.method=null,i.status=null,i.requestSentTime=null,i.responseStartedTime=null,i.responseFinishedTime=null,i.callbackFinishedTime=null,i.endTime=null,i.xhrMonitoringState=new Hc,i.clientFailure=0,i.traceID=t,i.spanID=n,ne(e,i,function(u){u.getAbsoluteUrl=function(){return u.requestUrl?ko(u.requestUrl):null},u.getPathName=function(){return u.requestUrl?yn(a,Ao(u.method,u.requestUrl)):null},u.CreateTrackItem=function(s,c,f){var g;if(u.ajaxTotalDuration=Math.round(1e3*Ce(u.requestSentTime,u.responseFinishedTime))/1e3,u.ajaxTotalDuration<0)return null;var m=((g={id:"|"+u.traceID+"."+u.spanID,target:u.getAbsoluteUrl(),name:u.getPathName(),type:s,startTime:null,duration:u.ajaxTotalDuration,success:+u.status>=200&&+u.status<400,responseCode:+u.status,method:u.method})[Pe]={HttpMethod:u.method},g);if(u.requestSentTime&&(m.startTime=new Date,m.startTime.setTime(u.requestSentTime)),function(e,t){var n=e.perfTiming,r=t[Pe]||{},i=0,a="name",o="Start",u="End",c="connect",f="redirect",g="request",m="response",C="duration",l="startTime",y=c+u,A=g+o,H=m+u,F=f+o,W=f=u,ae="transferSize",ce="encodedBodySize",we="decodedBodySize",je="serverTiming";if(n){i|=Dt(r,f,n,F,W),i|=Dt(r,"domainLookup",n,"domainLookupStart","domainLookupEnd"),i|=Dt(r,c,n,"connectStart",y),i|=Dt(r,g,n,A,"requestEnd"),i|=Dt(r,m,n,"responseStart",H),i|=Dt(r,"networkConnect",n,l,y),i|=Dt(r,"sentRequest",n,A,H);var Ae=n[C];Ae||(Ae=Yo(n,l,H)||0),i|=ht(r,C,Ae),i|=ht(r,"perfTotal",Ae);var Se=n[je];if(Se){var Le={};z(Se,function(fe,O){var ee=function(e){var t=e;return t&&U(t)&&(t=(t=(t=t.replace(Ps,function(n,r){return r.toUpperCase()})).replace(ks,"_")).replace(As,function(n,r){return"_"+r})),t}(fe[a]||""+O),Q=Le[ee]||{};re(fe,function(te,pe){(te!==a&&U(pe)||Fr(pe))&&(Q[te]&&(pe=Q[te]+";"+pe),(pe||!U(pe))&&(Q[te]=pe))}),Le[ee]=Q}),i|=ht(r,je,Le)}i|=ht(r,ae,n[ae]),i|=ht(r,ce,n[ce]),i|=ht(r,we,n[we])}else e.perfMark&&(i|=ht(r,"missing",e.perfAttempts));i&&(t[Pe]=r)}(u,m),c&&It(u.requestHeaders).length>0&&(m[Pe]=m[Pe]||{},m[Pe].requestHeaders=u.requestHeaders),f){var C=f();if(C){var l=C.correlationContext;if(l&&(m.correlationContext=l),C.headerMap&&It(C.headerMap).length>0&&(m[Pe]=m[Pe]||{},m[Pe].responseHeaders=C.headerMap),u.errorStatusText&&u.status>=400){var S=C.type;m[Pe]=m[Pe]||{},(""===S||"text"===S)&&(m[Pe][o]=C[o]?C.statusText+" - "+C[o]:C.statusText),"json"===S&&(m[Pe][o]=C.response?C.statusText+" - "+JSON.stringify(C.response):C.statusText)}}}return m}})},Zo=function(){function e(t,n){var r=this;r.traceFlag=e.DEFAULT_TRACE_FLAG,r.version=e.DEFAULT_VERSION,r.traceId=t&&e.isValidTraceId(t)?t:_e(),r.spanId=n&&e.isValidSpanId(n)?n:_e().substr(0,16)}return e.isValidTraceId=function(t){return t.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==t},e.isValidSpanId=function(t){return t.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==t},e.prototype.toString=function(){var t=this;return"".concat(t.version,"-").concat(t.traceId,"-").concat(t.spanId,"-").concat(t.traceFlag)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}(),$o="ai.ajxmn.",Pn="diagLog",ke="ajaxData",es="throwInternal",kn="fetch",ts=0;function pr(e){var t="";try{!P(e)&&!P(e[ke])&&!P(e[ke].requestUrl)&&(t+="(url: '"+e[ke].requestUrl+"')")}catch(n){}return t}function An(e,t,n,r,i){e[Pn]()[es](k.CRITICAL,t,n,r,i)}function Qt(e,t,n,r,i){e[Pn]()[es](k.WARNING,t,n,r,i)}function Dn(e,t,n){return function(r){An(e,t,n,{ajaxDiagnosticsMessage:pr(r.inst),exception:q(r.err)})}}function Zt(e,t){return e&&t?e.indexOf(t):-1}var ns=function(e){function t(){var n=e.call(this)||this;n.identifier=t.identifier,n.priority=120;var m,C,l,S,B,H,r="trackDependencyDataInternal",i=Ct(),a=!1,o=!1,u=i&&i.host&&i.host.toLowerCase(),s=t.getEmptyConfig(),c=!1,f=!1,g=0,d=!1,h=0,y=!1,A=[],L={};return ne(t,n,function(F,W){function ae(p){var I=!0;return(p||s.ignoreHeaders)&&z(s.ignoreHeaders,function(T){if(T.toLowerCase()===p.toLowerCase())return I=!1,-1}),I}function we(p,I,T){A.push(function(e,t,n){return e?vr(e[he],t,n,!1):null}(p,I,T))}function Ae(p,I,T){var w=!1,b=((U(I)?I:(I||{}).url||"")||"").toLowerCase();if(z(B,function(M){var G=M;U(M)&&(G=new RegExp(M)),w||(w=G.test(b))}),w)return w;var N=Zt(b,"?"),D=Zt(b,"#");return(-1===N||-1!==D&&D<N)&&(N=D),-1!==N&&(b=b.substring(0,N)),P(p)?P(I)||(w="object"==typeof I&&!0===I[ct]||!!T&&!0===T[ct]):w=!0===p[ct]||!0===b[ct],!w&&b&&Tn(b)&&(w=!0),w?L[b]||(L[b]=1):L[b]&&(w=!0),w}function Se(p,I){var T=!0,w=o;return P(p)||(T=!0===I||!P(p[ke])),w&&T}function O(p){try{var I=p.responseType;if(""===I||"text"===I)return p.responseText}catch(T){}return null}function Q(p){try{var I=p.getAllResponseHeaders();if(null!==I&&-1!==Zt(I.toLowerCase(),Y.requestContextHeaderLowerCase)){var w=p.getResponseHeader(Y.requestContextHeader);return bt.getCorrelationContext(w)}}catch(b){Qt(F,x.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:pr(p),exception:q(b)})}}function te(p,I){if(I.requestUrl&&S&&d){var T=Ye();if(T&&V(T.mark)){ts++;var w=S+p+"#"+ts;T.mark(w);var b=T.getEntriesByName(w);b&&1===b.length&&(I.perfMark=b[0])}}}function pe(p,I,T,w){var b=I.perfMark,N=Ye(),D=s.maxAjaxPerfLookupAttempts,M=s.ajaxPerfLookupDelay,G=I.requestUrl,_=0;!function xe(){try{if(N&&b){_++;for(var be=null,gr=N.getEntries(),Pi=gr.length-1;Pi>=0;Pi--){var nt=gr[Pi];if(nt){if("resource"===nt.entryType)nt.initiatorType===p&&(-1!==Zt(nt.name,G)||-1!==Zt(G,nt.name))&&(be=nt);else if("mark"===nt.entryType&&nt.name===b.name){I.perfTiming=be;break}if(nt.startTime<b.startTime-1e3)break}}}!b||I.perfTiming||_>=D||!1===I.async?(b&&V(N.clearMarks)&&N.clearMarks(b.name),I.perfAttempts=_,T()):setTimeout(xe,M)}catch(Zc){w(Zc)}}()}function v(p){var I="";try{P(p)||(I+="(url: '".concat("string"==typeof p?p:p.url,"')"))}catch(T){An(F,x.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:q(T)})}return I}function E(p,I,T,w,b,N,D){function M(G,_,xe){var be=xe||{};be.fetchDiagnosticsMessage=v(T),_&&(be.exception=q(_)),Qt(F,G,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",be)}b&&(b.responseFinishedTime=wn(),b.status=I,pe("fetch",b,function(){var _,G=b.CreateTrackItem("Fetch",c,N);try{H&&(_=H({status:I,request:T,response:w}))}catch(xe){Qt(F,x.FailedAddingCustomDefinedRequestContext,"Failed to add custom defined request context as configured call back may missing a null check.")}G?(void 0!==_&&(G.properties=me(me({},G.properties),_)),F[r](G)):M(x.FailedMonitorAjaxDur,null,{requestSentTime:b.requestSentTime,responseFinishedTime:b.responseFinishedTime})},function(G){M(x.FailedMonitorAjaxGetCorrelationHeader,G,null)}))}function R(p){if(p&&p.headers)try{var I=p.headers.get(Y.requestContextHeader);return bt.getCorrelationContext(I)}catch(T){Qt(F,x.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:v(p),exception:q(T)})}}F.initialize=function(p,I,T,w){if(!F.isInitialized()){W.initialize(p,I,T,w);var b=F._getTelCtx();re(t.getDefaultConfig(),function(xe,be){s[xe]=b.getConfig(t.identifier,xe,be)});var D=s.distributedTracingMode;if(c=s.enableRequestHeaderTracking,f=s.enableAjaxErrorStatusText,h=s.maxAjaxCallsPerView,y=s.enableResponseHeaderTracking,B=s.excludeRequestFromAutoTrackingPatterns,H=s.addRequestContext,l=D===Be.AI||D===Be.AI_AND_W3C,C=D===Be.AI_AND_W3C||D===Be.W3C,d=s.enableAjaxPerfTracking){var M=p.instrumentationKey||"unkwn";S=M.length>5?$o+M.substring(M.length-5)+".":$o+M+"."}if(!1===s.disableAjaxTracking&&function(e){var t=!1;if(Xn()){var n=XMLHttpRequest[he];t=!(P(n)||P(n.open)||P(n.send)||P(n.abort))}var r=zr();if(r&&r<9&&(t=!1),t)try{(new XMLHttpRequest)[ke]={};var a=XMLHttpRequest[he].open;XMLHttpRequest[he].open=a}catch(o){t=!1,An(e,x.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:q(o)})}return t}(F)&&!o&&(we(XMLHttpRequest,"open",{req:function(I,T,w,b){var N=I.inst,D=N[ke];!Ae(N,w)&&Se(N,!0)&&((!D||!D.xhrMonitoringState.openDone)&&function(p,I,T,w){var b=m&&m.telemetryTrace&&m.telemetryTrace.traceID||_e(),N=_e().substr(0,16),D=new Qo(b,N,F[Pn]());D.method=I,D.requestUrl=T,D.xhrMonitoringState.openDone=!0,D.requestHeaders={},D.async=w,D.errorStatusText=f,p[ke]=D}(N,T,w,b),function(p){p[ke].xhrMonitoringState.stateChangeAttached=Je(p,"readystatechange",function(){try{p&&4===p.readyState&&Se(p)&&function(p){var I=p[ke];function T(w,b){var N=b||{};N.ajaxDiagnosticsMessage=pr(p),w&&(N.exception=q(w)),Qt(F,x.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",N)}I.responseFinishedTime=wn(),I.status=p.status,pe("xmlhttprequest",I,function(){try{var w=I.CreateTrackItem("Ajax",c,function(){var N={statusText:p.statusText,headerMap:null,correlationContext:Q(p),type:p.responseType,responseText:O(p),response:p.response};if(y){var D=p.getAllResponseHeaders();if(D){var M=de(D).split(/[\r\n]+/),G={};z(M,function(_){var xe=_.split(": "),be=xe.shift(),gr=xe.join(": ");ae(be)&&(G[be]=gr)}),N.headerMap=G}}return N}),b=void 0;try{H&&(b=H({status:p.status,xhr:p}))}catch(N){Qt(F,x.FailedAddingCustomDefinedRequestContext,"Failed to add custom defined request context as configured call back may missing a null check.")}w?(void 0!==b&&(w.properties=me(me({},w.properties),b)),F[r](w)):T(null,{requestSentTime:I.requestSentTime,responseFinishedTime:I.responseFinishedTime})}finally{try{p[ke]=null}catch(N){}}},function(w){T(w,null)})}(p)}catch(T){var I=q(T);(!I||-1===Zt(I.toLowerCase(),"c00c023f"))&&An(F,x.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:pr(p),exception:I})}})}(N))},hkErr:Dn(F,x.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),we(XMLHttpRequest,"send",{req:function(I,T){var w=I.inst,b=w[ke];Se(w)&&!b.xhrMonitoringState.sendDone&&(te("xhr",b),b.requestSentTime=wn(),F.includeCorrelationHeaders(b,void 0,void 0,w),b.xhrMonitoringState.sendDone=!0)},hkErr:Dn(F,x.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),we(XMLHttpRequest,"abort",{req:function(I){var T=I.inst,w=T[ke];Se(T)&&!w.xhrMonitoringState.abortDone&&(w.aborted=1,w.xhrMonitoringState.abortDone=!0)},hkErr:Dn(F,x.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),c&&we(XMLHttpRequest,"setRequestHeader",{req:function(I,T,w){var b=I.inst;Se(b)&&ae(T)&&(b[ke].requestHeaders[T]=w)},hkErr:Dn(F,x.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),o=!0),function(){var p=function(){var e=Ft();return!e||P(e.Request)||P(e.Request[he])||P(e[kn])?null:e[kn]}();if(p){var I=Ft(),T=p.polyfill;!1===s.disableFetchTracking?(A.push(vr(I,kn,{req:function(b,N,D){var M;if(a&&!Ae(null,N,D)&&(!T||!o)){var G=b.ctx();M=function(p,I){var T=m&&m.telemetryTrace&&m.telemetryTrace.traceID||_e(),w=_e().substr(0,16),b=new Qo(T,w,F[Pn]());b.requestSentTime=wn(),b.errorStatusText=f,b.requestUrl=p instanceof Request?p?p.url:"":p;var N="GET";I&&I.method?N=I.method:p&&p instanceof Request&&(N=p.method),b.method=N;var D={};return c&&new Headers((I?I.headers:0)||p instanceof Request&&p.headers||{}).forEach(function(G,_){ae(_)&&(D[_]=G)}),b.requestHeaders=D,te("fetch",b),b}(N,D);var _=F.includeCorrelationHeaders(M,N,D);_!==D&&b.set(1,_),G.data=M}},rsp:function(b,N){var D=b.ctx().data;D&&(b.rslt=b.rslt.then(function(M){return E(0,(M||{}).status,N,M,D,function(){var G={statusText:M.statusText,headerMap:null,correlationContext:R(M)};if(y){var _={};M.headers.forEach(function(xe,be){ae(be)&&(_[be]=xe)}),G.headerMap=_}return G}),M}).catch(function(M){throw E(0,0,N,null,D,null),M}))},hkErr:Dn(F,x.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),a=!0):T&&A.push(vr(I,kn,{req:function(b,N,D){Ae(null,N,D)}})),T&&(I[kn].polyfill=T)}}(),T.length>0&&T){for(var G=void 0,_=0;!G&&_<T.length;)T[_]&&T[_].identifier===mn&&(G=T[_]),_++;G&&(m=G.context)}}},F.teardown=function(){z(A,function(p){p.rm()}),A=[],a=!1,o=!1,F.setInitialized(!1)},F.trackDependencyData=function(p,I){F[r](p,I)},F.includeCorrelationHeaders=function(p,I,T,w){var b=F._currentWindowHost||u;if(I){if(bt.canIncludeCorrelationHeader(s,p.getAbsoluteUrl(),b)&&(T||(T={}),T.headers=new Headers(T.headers||I instanceof Request&&I.headers||{}),l&&(T.headers.set(Y.requestIdHeader,N="|"+p.traceID+"."+p.spanID),c&&(p.requestHeaders[Y.requestIdHeader]=N)),(D=s.appId||m&&m.appId())&&(T.headers.set(Y.requestContextHeader,Y.requestContextAppIdFormat+D),c&&(p.requestHeaders[Y.requestContextHeader]=Y.requestContextAppIdFormat+D)),C)){var M=new Zo(p.traceID,p.spanID);T.headers.set(Y.traceParentHeader,M.toString()),c&&(p.requestHeaders[Y.traceParentHeader]=M.toString())}return T}if(w){var N,D;if(bt.canIncludeCorrelationHeader(s,p.getAbsoluteUrl(),b))l&&(w.setRequestHeader(Y.requestIdHeader,N="|"+p.traceID+"."+p.spanID),c&&(p.requestHeaders[Y.requestIdHeader]=N)),(D=s.appId||m&&m.appId())&&(w.setRequestHeader(Y.requestContextHeader,Y.requestContextAppIdFormat+D),c&&(p.requestHeaders[Y.requestContextHeader]=Y.requestContextAppIdFormat+D)),C&&(M=new Zo(p.traceID,p.spanID),w.setRequestHeader(Y.traceParentHeader,M.toString()),c&&(p.requestHeaders[Y.traceParentHeader]=M.toString()));return w}},F[r]=function(p,I,T){if(-1===h||g<h){(s.distributedTracingMode===Be.W3C||s.distributedTracingMode===Be.AI_AND_W3C)&&"string"==typeof p.id&&"."!==p.id[p.id.length-1]&&(p.id+="."),P(p.startTime)&&(p.startTime=new Date);var w=Qe.create(p,et.dataType,et.envelopeType,F[Pn](),I,T);F.core.track(w)}else g===h&&An(F,x.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++g}}),n}return Z(t,e),t.getDefaultConfig=function(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:Be.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"],addRequestContext:void 0}},t.getEmptyConfig=function(){var n=this.getDefaultConfig();return re(n,function(r){n[r]=void 0}),n},t.prototype.processTelemetry=function(n,r){this.processNext(n,r)},t.identifier="AjaxDependencyPlugin",t}(zt);function rs(e){if(!e)return{};var n=ua(e.split(";"),function(i,a){var o=a.split("=");return 2===o.length&&(i[o[0].toLowerCase()]=o[1]),i},{});return It(n).length>0&&(n.endpointsuffix&&(n.ingestionendpoint=n.ingestionendpoint||"https://"+(n.location?n.location+".":"")+"dc."+n.endpointsuffix),n.ingestionendpoint=n.ingestionendpoint||fo),n}var Ei,Gc={parse:rs},Wc=function(){function e(){}return e.getConfig=function(t,n,r,i){var a;return void 0===i&&(i=!1),a=r&&t.extensionConfig&&t.extensionConfig[r]&&!P(t.extensionConfig[r][n])?t.extensionConfig[r][n]:t[n],P(a)?i:a},e}(),is=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],Xc={__proto__:null,PropertiesPluginIdentifier:mn,BreezeChannelIdentifier:ri,AnalyticsPluginIdentifier:ao,Util:No,CorrelationIdHelper:bt,UrlHelper:Qu,DateTimeUtils:$u,ConnectionStringParser:Gc,FieldType:{Default:0,Required:1,Array:2,Hidden:4},RequestHeaders:Y,DisabledPropertyName:ct,ProcessLegacy:In,SampleRate:si,HttpMethod:ui,DEFAULT_BREEZE_ENDPOINT:fo,AIData:Bo,AIBase:qo,Envelope:Uo,Event:ze,Exception:Te,Metric:Ze,PageView:Ve,PageViewData:li,RemoteDependencyData:et,Trace:ft,PageViewPerformance:lt,Data:pt,SeverityLevel:Cn,ConfigurationManager:Wc,ContextTagKeys:wi,DataSanitizer:Ru,TelemetryItemCreator:Qe,CtxTagKeys:J,Extensions:Ee,DistributedTracingModes:Be},as=function(){function e(t){var n=this;n._snippetVersion=""+(t.sv||t.version||""),t.queue=t.queue||[],t.version=t.version||2;var r=t.config||{};if(r.connectionString){var i=rs(r.connectionString),a=i.ingestionendpoint;r.endpointUrl=a?"".concat(a,"/v2/track"):r.endpointUrl,r.instrumentationKey=i.instrumentationkey||r.instrumentationKey}n.appInsights=new Lo,n.properties=new Wo,n.dependencies=new ns,n.core=new Xa,n._sender=new Vo,n.snippet=t,n.config=r,n.getSKUDefaults()}return e.prototype.getCookieMgr=function(){return this.appInsights.getCookieMgr()},e.prototype.trackEvent=function(t,n){this.appInsights.trackEvent(t,n)},e.prototype.trackPageView=function(t){this.appInsights.trackPageView(t||{})},e.prototype.trackPageViewPerformance=function(t){this.appInsights.trackPageViewPerformance(t||{})},e.prototype.trackException=function(t,n){t&&!t.exception&&t.error&&(t.exception=t.error),this.appInsights.trackException(t,n)},e.prototype._onerror=function(t){this.appInsights._onerror(t)},e.prototype.trackTrace=function(t,n){this.appInsights.trackTrace(t,n)},e.prototype.trackMetric=function(t,n){this.appInsights.trackMetric(t,n)},e.prototype.startTrackPage=function(t){this.appInsights.startTrackPage(t)},e.prototype.stopTrackPage=function(t,n,r,i){this.appInsights.stopTrackPage(t,n,r,i)},e.prototype.startTrackEvent=function(t){this.appInsights.startTrackEvent(t)},e.prototype.stopTrackEvent=function(t,n,r){this.appInsights.stopTrackEvent(t,n,r)},e.prototype.addTelemetryInitializer=function(t){return this.appInsights.addTelemetryInitializer(t)},e.prototype.setAuthenticatedUserContext=function(t,n,r){void 0===r&&(r=!1),this.properties.context.user.setAuthenticatedUserContext(t,n,r)},e.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},e.prototype.trackDependencyData=function(t){this.dependencies.trackDependencyData(t)},e.prototype.flush=function(t){var n=this;void 0===t&&(t=!0),Ht(this.core,function(){return"AISKU.flush"},function(){z(n.core.getTransmissionControls(),function(r){z(r,function(i){i.flush(t)})})},null,t)},e.prototype.onunloadFlush=function(t){void 0===t&&(t=!0),z(this.core.getTransmissionControls(),function(n){z(n,function(r){r.onunloadFlush?r.onunloadFlush():r.flush(t)})})},e.prototype.loadAppInsights=function(t,n,r){var i=this;void 0===t&&(t=!1);var a=this;return t&&a.config.extensions&&a.config.extensions.length>0&&He("Extensions not allowed in legacy mode"),Ht(a.core,function(){return"AISKU.loadAppInsights"},function(){var u=[];u.push(a._sender),u.push(a.properties),u.push(a.dependencies),u.push(a.appInsights),a.core.initialize(a.config,u,n,r),a.context=a.properties.context,Ei&&a.context&&(a.context.internal.sdkSrc=Ei),function(u){if(u){var s="";P(a._snippetVersion)||(s+=a._snippetVersion),t&&(s+=".lg"),a.context&&a.context.internal&&(a.context.internal.snippetVer=s||"-"),re(a,function(c,f){U(c)&&!V(f)&&c&&"_"!==c[0]&&-1===is.indexOf(c)&&(u[c]=f)})}}(a.snippet),a.emptyQueue(),a.pollInternalLogs(),a.addHousekeepingBeforeUnload(i)}),a},e.prototype.updateSnippetDefinitions=function(t){da(t,this,function(n){return n&&-1===is.indexOf(n)})},e.prototype.emptyQueue=function(){var t=this;try{if(ye(t.snippet.queue)){for(var n=t.snippet.queue.length,r=0;r<n;r++)(0,t.snippet.queue[r])();t.snippet.queue=void 0,delete t.snippet.queue}}catch(o){o&&V(o.toString)&&o.toString()}},e.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},e.prototype.stopPollingInternalLogs=function(){this.core.stopPollingInternalLogs()},e.prototype.addHousekeepingBeforeUnload=function(t){if(Wn()||ya()){var n=function(){t.onunloadFlush(!1),z(t.appInsights.core._extensions,function(o){if(o.identifier===mn)return o&&o.context&&o.context._sessionManager&&o.context._sessionManager.backup(),-1})},r=!1,i=t.appInsights.config.disablePageUnloadEvents;t.appInsights.config.disableFlushOnBeforeUnload||(r=wu(n,i),!(r=ti(n,i)||r)&&!function(){var e=Fe();return!(!e||!e.product)&&"ReactNative"===e.product}()&&t.appInsights.core.logger.throwInternal(k.CRITICAL,x.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide")),!r&&!t.appInsights.config.disableFlushOnUnload&&ti(n,i)}},e.prototype.getSender=function(){return this._sender},e.prototype.getSKUDefaults=function(){var t=this;t.config.diagnosticLogInterval=t.config.diagnosticLogInterval&&t.config.diagnosticLogInterval>0?t.config.diagnosticLogInterval:1e4},e}();!function(){var e=null,n=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var r=(document||{}).currentScript;r&&(e=r.src)}catch(u){}if(e)try{var i=e.toLowerCase();if(i)for(var a="",o=0;o<n.length;o++)if(-1!==i.indexOf(n[o])){a="cdn"+(o+1),-1===i.indexOf("/scripts/")&&(-1!==i.indexOf("/next/")?a+="-next":-1!==i.indexOf("/beta/")&&(a+="-beta")),Ei=a+"";break}}catch(u){}}();var Jc=["snippet","getDefaultConfig","_hasLegacyInitializers","_queue","_processLegacyInitializers"],Yc=function(){function e(t,n){this._hasLegacyInitializers=!1,this._queue=[],this.config=e.getDefaultConfig(t.config),this.appInsightsNew=n,this.context={addTelemetryInitializer:this.addTelemetryInitializers.bind(this)}}return e.getDefaultConfig=function(t){return t||(t={}),t.endpointUrl=t.endpointUrl||"https://dc.services.visualstudio.com/v2/track",t.sessionRenewalMs=18e5,t.sessionExpirationMs=864e5,t.maxBatchSizeInBytes=t.maxBatchSizeInBytes>0?t.maxBatchSizeInBytes:102400,t.maxBatchInterval=isNaN(t.maxBatchInterval)?15e3:t.maxBatchInterval,t.enableDebug=X(t.enableDebug),t.disableExceptionTracking=X(t.disableExceptionTracking),t.disableTelemetry=X(t.disableTelemetry),t.verboseLogging=X(t.verboseLogging),t.emitLineDelimitedJson=X(t.emitLineDelimitedJson),t.diagnosticLogInterval=t.diagnosticLogInterval||1e4,t.autoTrackPageVisitTime=X(t.autoTrackPageVisitTime),(isNaN(t.samplingPercentage)||t.samplingPercentage<=0||t.samplingPercentage>=100)&&(t.samplingPercentage=100),t.disableAjaxTracking=X(t.disableAjaxTracking),t.maxAjaxCallsPerView=isNaN(t.maxAjaxCallsPerView)?500:t.maxAjaxCallsPerView,t.isBeaconApiDisabled=X(t.isBeaconApiDisabled,!0),t.disableCorrelationHeaders=X(t.disableCorrelationHeaders),t.correlationHeaderExcludedDomains=t.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],t.disableFlushOnBeforeUnload=X(t.disableFlushOnBeforeUnload),t.disableFlushOnUnload=X(t.disableFlushOnUnload,t.disableFlushOnBeforeUnload),t.enableSessionStorageBuffer=X(t.enableSessionStorageBuffer,!0),t.isRetryDisabled=X(t.isRetryDisabled),t.isCookieUseDisabled=X(t.isCookieUseDisabled),t.isStorageUseDisabled=X(t.isStorageUseDisabled),t.isBrowserLinkTrackingEnabled=X(t.isBrowserLinkTrackingEnabled),t.enableCorsCorrelation=X(t.enableCorsCorrelation),t},e.prototype.addTelemetryInitializers=function(t){var n=this;this._hasLegacyInitializers||(this.appInsightsNew.addTelemetryInitializer(function(r){n._processLegacyInitializers(r)}),this._hasLegacyInitializers=!0),this._queue.push(t)},e.prototype.getCookieMgr=function(){return this.appInsightsNew.getCookieMgr()},e.prototype.startTrackPage=function(t){this.appInsightsNew.startTrackPage(t)},e.prototype.stopTrackPage=function(t,n,r,i){this.appInsightsNew.stopTrackPage(t,n,r)},e.prototype.trackPageView=function(t,n,r,i,a){this.appInsightsNew.trackPageView({name:t,uri:n,properties:r,measurements:i})},e.prototype.trackEvent=function(t,n,r){this.appInsightsNew.trackEvent({name:t})},e.prototype.trackDependency=function(t,n,r,i,a,o,u){this.appInsightsNew.trackDependencyData({id:t,target:r,type:i,duration:a,properties:{HttpMethod:n},success:o,responseCode:u})},e.prototype.trackException=function(t,n,r,i,a){this.appInsightsNew.trackException({exception:t})},e.prototype.trackMetric=function(t,n,r,i,a,o){this.appInsightsNew.trackMetric({name:t,average:n,sampleCount:r,min:i,max:a})},e.prototype.trackTrace=function(t,n,r){this.appInsightsNew.trackTrace({message:t,severityLevel:r})},e.prototype.flush=function(t){this.appInsightsNew.flush(t)},e.prototype.setAuthenticatedUserContext=function(t,n,r){this.appInsightsNew.context.user.setAuthenticatedUserContext(t,n,r)},e.prototype.clearAuthenticatedUserContext=function(){this.appInsightsNew.context.user.clearAuthenticatedUserContext()},e.prototype._onerror=function(t,n,r,i,a){this.appInsightsNew._onerror({message:t,url:n,lineNumber:r,columnNumber:i,error:a})},e.prototype.startTrackEvent=function(t){this.appInsightsNew.startTrackEvent(t)},e.prototype.stopTrackEvent=function(t,n,r){this.appInsightsNew.stopTrackEvent(t,n,r)},e.prototype.downloadAndSetup=function(t){He("downloadAndSetup not implemented in web SKU")},e.prototype.updateSnippetDefinitions=function(t){da(t,this,function(n){return n&&-1===Jc.indexOf(n)})},e.prototype.loadAppInsights=function(){var t=this;if(this.config.iKey){var n=this.trackPageView;this.trackPageView=function(a,o,u){n.apply(t,[null,a,o,u])}}var r="logPageView";"function"==typeof this.snippet[r]&&(this[r]=function(a,o,u){t.trackPageView(null,a,o,u)});var i="logEvent";return"function"==typeof this.snippet[i]&&(this[i]=function(a,o,u){t.trackEvent(a,o,u)}),this},e.prototype._processLegacyInitializers=function(t){return t.tags[In]=this._queue,t},e}(),Qc=function(){function e(){}return e.getAppInsights=function(t,n){var r=new as(t),i=2!==n;if(jt(),2===n)return r.updateSnippetDefinitions(t),r.loadAppInsights(i),r;var a=new Yc(t,r);return a.updateSnippetDefinitions(t),r.loadAppInsights(i),a},e}()}}]);